{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../view-program-lib/dist/view-program-lib.esm.js","webpack:///./src/preset-components/coupon-expression/price-text.vue?eaef","webpack:///./src/App.vue?f887","webpack:///./src/modules/Unpayed.vue?c413","webpack:///src/modules/Unpayed.vue","webpack:///./src/modules/Unpayed.vue?ceb6","webpack:///./src/modules/Unpayed.vue","webpack:///./src/template/index.vue?d3be","webpack:///src/template/index.vue","webpack:///./src/template/index.vue?bc41","webpack:///./src/template/index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?d32f","webpack:///./src/App.vue","webpack:///./src/Error.vue?5464","webpack:///src/Error.vue","webpack:///./src/Error.vue?d349","webpack:///./src/Error.vue","webpack:///./src/common/util.js","webpack:///./src/common/config.js","webpack:///./src/preset-components/union-shop-collection.vue?8d19","webpack:///src/preset-components/union-shop-collection.vue","webpack:///./src/preset-components/union-shop-collection.vue?ae79","webpack:///./src/preset-components/union-shop-collection.vue","webpack:///./src/preset-components/coupon-expression/index.vue?ff57","webpack:///./src/preset-components/coupon-expression/dish-hori-rack.vue?d369","webpack:///./src/preset-components/coupon-expression/promotional-tag.vue?ef90","webpack:///src/preset-components/coupon-expression/promotional-tag.vue","webpack:///./src/preset-components/coupon-expression/promotional-tag.vue?7ed7","webpack:///./src/preset-components/coupon-expression/promotional-tag.vue","webpack:///./src/preset-components/coupon-expression/price-text.vue?de23","webpack:///src/preset-components/coupon-expression/price-text.vue","webpack:///./src/preset-components/coupon-expression/price-text.vue?9bf2","webpack:///./src/preset-components/coupon-expression/price-text.vue","webpack:///./src/preset-components/coupon-expression/badge.vue?0711","webpack:///src/preset-components/coupon-expression/badge.vue","webpack:///./src/preset-components/coupon-expression/badge.vue?509a","webpack:///./src/preset-components/coupon-expression/badge.vue","webpack:///src/preset-components/coupon-expression/dish-hori-rack.vue","webpack:///./src/preset-components/coupon-expression/dish-hori-rack.vue?9a94","webpack:///./src/preset-components/coupon-expression/dish-hori-rack.vue","webpack:///./src/preset-components/coupon-expression/amount-sales.vue?53ac","webpack:///src/preset-components/coupon-expression/amount-sales.vue","webpack:///./src/preset-components/coupon-expression/amount-sales.vue?17ec","webpack:///./src/preset-components/coupon-expression/amount-sales.vue","webpack:///src/preset-components/coupon-expression/index.vue","webpack:///./src/preset-components/coupon-expression/index.vue?7b3a","webpack:///./src/preset-components/coupon-expression/index.vue","webpack:///./src/main.js","webpack:///./src/preset-components/coupon-expression/promotional-tag.vue?deae","webpack:///./src/App.vue?123d","webpack:///./src/preset-components/coupon-expression/index.vue?d2f1","webpack:///./src/preset-components/coupon-expression/dish-hori-rack.vue?c14a","webpack:///./src/preset-components/union-shop-collection.vue?01f5","webpack:///./src/preset-components/coupon-expression/badge.vue?338a","webpack:///./src/preset-components/coupon-expression/amount-sales.vue?a757","webpack:///./src/Error.vue?bd6a","webpack:///./src/App.vue?b010","webpack:///./src/modules/Unpayed.vue?64ec","webpack:///./src/Error.vue?00d4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__assign","assign","arguments","this","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","step","next","e","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","_a","MP_WEIXIN","MP_ALIPAY","BROWSER","NODE","getMode","href","location","error","test","environmentValue","envOption","gl","host","prod","debug","javaHost","apiSign","connectSymbol","tmplCodeMap","activity","id","dataNames","errorText","payResult","viewProgramPath","global","wx","jWeixin","setItem","val","globalData","set","keyOrObject","map","typeOfKey","getPlatform","userAgent","navigator","toLowerCase","indexOf","buildPath","url","params","restfulParams","keys","forEach","paramName","replace","toString","argStr","join","buildViewProgramUrl","pluginId","activityId","shopId","webPagePath","routePath","query","substr","routeQuery","buildUrlParams","accessToken","navigateTo","environment","urlBuilded","miniProgram","success","args","_i","fail","reason","params_1","parseUrlParams","JSON","parse","decodeURIComponent","path","navigateBack","delta","createApiSign","rawStr","sort","undefined","filter","item","Md5","hashStr","needQuestionMark","paramStr","match","split","param","keyVal","parseKeyParams","pathname","keyParams","pathDataAry","onlineStrIndex","Error","getInteractKey","isEcho","getMPPath","hasBasePath","fillParams","encodeURIComponent","stringify","formatTime","time","fillZero","num","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","interceptor","request","interceptors","use","config","platform","timestamp","Date","method","sign","headers","response","status","code","msg","axios","baseURL","timeout","receiver","javaRequest","fnCollection","message","init","originReceive","addEventListener","event","emitFn","on","fn","emit","postMessage","mpNavigateTo","mpNavigateBack","setTitle","title","document","updateShareMessage","shareOptions","matches","hash","shareMessage","newHash","history","replaceState","mp","freeze","__proto__","routerHookNames","Page","options","globalConfig","Vue","VueRouter","Vuex","router","routers","stores","plugins","Array","isArray","routes","hookName","store","Store","pluginInstance","arg","mpInitData","parent","configData","console","log","post","callRes","res","render","h","$mount","callServerFunction","error_1","errorPrefix","assert","getEchoData","echoKey","_this","timer","setInterval","echoData","clearInterval","exception","notNull","reg","equal","equalVal","equalType","type","typeAry","equalPass","constructor","interactPage","payIntent","COUPON_PURCHASE","RECHARGE","pay","payOptions","values","intent","amount","couponGroupId","payload","subscribeMessage","tipText","btnText","messageNames","notifyDataMap","platformMsgCodeMap","tmplIds","subscribeRes","tmplId2NameMap","name_1","tmplCodeItem","resAvailable","tmplId","optionMsgData","resTransform","msgCode","timing","channel","notifyData","msgName","notifyData_1","notifyDataObj_1","dataName","index","share","imageUrl","pageCodes","shopHomepage","navigateELPage","pageCode","getUserInfo","tips","userInfo","save","giveCoupon","groupId","userId","customerId","getCouponInfo","globalCouponKey","couponInfoMap","groupIds","couponRes","requestGroupIds","idItem","couponInfo","couponInfos_1","currentMilTs_1","String","now","find","expireTime","getTime","useLimit","getDishInfo","dishId","globalDishesKey","dishesInfoMap","dishIds","dishesRes","requestDishIds","dishInfo","dishInfos_1","getShopInfo","globalShopInfoKey","shopInfo","getConfiguration","globalConfigKey","notifyMessage","changeShop","trim","currentShopId","mat","rep","_a$1","el","structKey","namespace","STORAGE_KEYS_SUFFIX","getGlobalThisInfo","storageTag","storages","globalThis","keysStoreKey","storage","getItem","LOCAL_STORAGE","SESSION_STORAGE","localStorage","sessionStorage","NamespacedStorage","removeItem","clear","namespacedKey","converterErrors","argsLength","fnName","argsConverters","insert","limit","skip","sync","target","collection","commonWord","collectionForbiddenCalledFns","drop","dbForbiddenCalledFns","dropDatabase","createDatabase","createCollection","responseConvert","mongoData","dataItem","$oid","createProxyedPromise","handler","executor","protoProxy","Proxy","setPrototypeOf","createCollectionProxy","collectionName","proxyObject","collectionProxyedPromise","exceptionstring","convertFn","setTimeout","env","db","rej","createNamespacedDatabase","search","pluginMode","database","defineProperties","_vm","_h","$createElement","_c","_self","nodeEnv","isCross","attrs","staticRenderFns","_m","staticClass","_v","component","couponData","itemPressHandler","itemBtnPressHandler","scopedSlots","_u","aa","_s","current","price","methods","components","Unpayed","TemplateIndex","computed","page","scriptHost","getModeValue","modeOption","programScriptUrl","pluginDev","Math","round","random","containerScrollHandler","style","_l","shopItem","ref","refInFor","$event","nav2Homepage","avatar","toggleShop","shopName","shortIntro","_e","props","row","Number","default","validator","itemWidth","offsetWidth","itemHeight","hasMore","loading","list","containerStyle","width","column","loadingWidth","height","itemStyle","showLoading","scrollWidth","scrollLeft","requestList","dishes_id","couponDishInfos","boxPressHandler","btnPressHandler","tag","dishTagColors","media","describe","couponPrice","priceDisabled","discount","limitCopies","class","couponDisabled","couponReceiveOver","stopPropagation","receiveHandler","leftPercent","text","required","color","textColor","reduceCls","moneyFlagCls","amountCls","amountDecimal","wrapCls","inverted","Boolean","shape","hasPadding","cls","concat","wrapStyle","styleObj","background","color1","color2","borderColor","textStyle","PromotionalTag","PriceText","Badge","colorMap","limitAmount","receivedAmount","$emit","couponStr","useLimitStrArray","listData","showPrepurchaseCoupon","dishHoriRack","AmountSales","couponInfos","watch","getPageCouponInfo","mounted","requestCoupon","start","end","couponRefInfo","EL","productionTip","presetComponent","App","scriptNode","createElement","setAttribute","head","appendChild"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,obC3HLyC,EAAW,WAQX,OAPAA,EAAWpD,OAAOqD,QAAU,SAAkBhB,GAC1C,IAAK,IAAIlB,EAAGtB,EAAI,EAAG+C,EAAIU,UAAUvD,OAAQF,EAAI+C,EAAG/C,IAE5C,IAAK,IAAIkD,KADT5B,EAAImC,UAAUzD,GACAsB,EAAOnB,OAAOC,UAAUC,eAAeC,KAAKgB,EAAG4B,KAAIV,EAAEU,GAAK5B,EAAE4B,IAE9E,OAAOV,GAEJe,EAAS1C,MAAM6C,KAAMD,YAGhC,SAASE,EAAUC,EAASC,EAAYC,EAAGC,GACvC,SAASC,EAAMzB,GAAS,OAAOA,aAAiBuB,EAAIvB,EAAQ,IAAIuB,GAAE,SAAUG,GAAWA,EAAQ1B,MAC/F,OAAO,IAAKuB,IAAMA,EAAII,WAAU,SAAUD,EAASE,GAC/C,SAASlD,EAAUsB,GAAS,IAAM6B,EAAKL,EAAUM,KAAK9B,IAAW,MAAO+B,GAAKH,EAAOG,IACpF,SAASC,EAAShC,GAAS,IAAM6B,EAAKL,EAAU,SAASxB,IAAW,MAAO+B,GAAKH,EAAOG,IACvF,SAASF,EAAKrD,GAAUA,EAAOyD,KAAOP,EAAQlD,EAAOwB,OAASyB,EAAMjD,EAAOwB,OAAOkC,KAAKxD,EAAWsD,GAClGH,GAAML,EAAYA,EAAUlD,MAAM+C,EAASC,GAAc,KAAKQ,WAItE,SAASK,EAAYd,EAASe,GAC1B,IAAsGC,EAAGC,EAAGrC,EAAGsC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPzC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO0C,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAET,KAAMe,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAX/C,SAA0ByC,EAAEzC,OAAOgD,UAAY,WAAa,OAAO3B,OAAUoB,EACvJ,SAASM,EAAKrC,GAAK,OAAO,SAAUuC,GAAK,OAAOlB,EAAK,CAACrB,EAAGuC,KACzD,SAASlB,EAAKmB,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,MAAOT,EAAG,IACN,GAAIH,EAAI,EAAGC,IAAMrC,EAAY,EAAR+C,EAAG,GAASV,EAAE,UAAYU,EAAG,GAAKV,EAAE,YAAcrC,EAAIqC,EAAE,YAAcrC,EAAElC,KAAKuE,GAAI,GAAKA,EAAER,SAAW7B,EAAIA,EAAElC,KAAKuE,EAAGU,EAAG,KAAKf,KAAM,OAAOhC,EAE3J,OADIqC,EAAI,EAAGrC,IAAG+C,EAAK,CAAS,EAARA,EAAG,GAAQ/C,EAAED,QACzBgD,EAAG,IACP,KAAK,EAAG,KAAK,EAAG/C,EAAI+C,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEzC,MAAOgD,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,GAAMjD,EAAIuC,EAAEG,OAAM1C,EAAIA,EAAEtC,OAAS,GAAKsC,EAAEA,EAAEtC,OAAS,MAAkB,IAAVqF,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,SACjG,GAAc,IAAVQ,EAAG,MAAc/C,GAAM+C,EAAG,GAAK/C,EAAE,IAAM+C,EAAG,GAAK/C,EAAE,IAAM,CAAEuC,EAAEC,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQxC,EAAE,GAAI,CAAEuC,EAAEC,MAAQxC,EAAE,GAAIA,EAAI+C,EAAI,MAC7D,GAAI/C,GAAKuC,EAAEC,MAAQxC,EAAE,GAAI,CAAEuC,EAAEC,MAAQxC,EAAE,GAAIuC,EAAEI,IAAI3E,KAAK+E,GAAK,MACvD/C,EAAE,IAAIuC,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKrE,KAAKsD,EAASmB,GAC1B,MAAOT,GAAKiB,EAAK,CAAC,EAAGjB,GAAIO,EAAI,EAjBrB,QAiBoCD,EAAIpC,EAAI,EACtD,GAAY,EAAR+C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEhD,MAAOgD,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,IAIlF,IAsBIkB,EAtBAC,EAAY,OACZC,EAAY,WACZC,EAAU,UACVC,EAAO,OAEX,SAASC,IACL,IAAIC,EAAO,GACX,IACIA,EAAO5C,OAAO6C,SAASD,KAE3B,MAAOE,GACHF,EAAO,GAEX,MAAI,YAAYG,KAAKH,GACV,aAEF,YAAYG,KAAKH,GACf,QAEJ,OAIX,SAASI,EAAiBC,GACtB,IAAI5D,EAAOsD,IACX,OAAOM,EAAU5D,IAAS,GAE9B,IA0CI6D,EA1CAC,EAAOH,EAAiB,CACxB,aAAc,yBACdI,KAAM,wBACNC,MAAO,0BAEPC,EAAWN,EAAiB,CAC5B,aAAc,6BACdI,KAAM,6BACNC,MAAO,+BAEPE,EAAU,CACVC,cAAe,IACf/D,IAAK,iCAELgE,GAAenB,EAAK,GACpBA,EAAGC,GAAa,CACZmB,SAAU,CACNC,GAAI,8CACJC,UAAW,CAAC,QAAS,QAAS,SAAU,UACxCC,UAAW,wCAEfC,UAAW,CACPH,GAAI,QACJC,UAAW,CAAC,SACZC,UAAW,wBAGnBvB,EAAGE,GAAa,CACZkB,SAAU,CACNC,GAAI,GACJC,UAAW,GACXC,UAAW,wCAEfC,UAAW,CACPH,GAAI,GACJC,UAAW,GACXC,UAAW,yCAGnBvB,GACAyB,EAAkB,6CAGtB,IACIb,EAAKlD,OAET,MAAO8C,IACHI,EAAKc,EAET,IAAIC,EAAKf,EAAGe,UACLf,EAAGe,UACHf,EAAGgB,QAEV,IAAI5H,EAAO,GACX,SAAS6H,EAAQ1E,EAAK2E,GACdA,EACA9H,EAAKmD,GAAO2E,SAGL9H,EAAKmD,GAGpB,IAAI4E,EAAa,CACbC,IAAK,SAAUC,EAAaH,GACxB,IAAI9B,EACAkC,EAA6B,WAAvB,eAAOD,GAA2BA,GAAejC,EAAK,GAAIA,EAAGiC,GAAeH,EAAK9B,GAC3F,IAAK,IAAI7C,KAAO+E,EACZL,EAAQ1E,EAAK+E,EAAI/E,KAGzBV,IAAK,SAAUU,GACX,IAAIgF,EAAY,eAAOhF,GACvB,GAAkB,WAAdgF,GAAwC,WAAdA,EAC1B,OAAOnI,EAAKmD,KAKxB,SAASiF,IACL,IAAIC,EAAY,GAChB,IACIA,EAAY3E,OAAO4E,UAAUD,UAAUE,cAE3C,MAAO/B,IACH6B,EAAY,SAEhB,OAA0C,IAAtCA,EAAUG,QAAQ,eACXvC,GAE2C,IAA7CoC,EAAUG,QAAQ,sBAChBtC,GAE6B,IAA/BmC,EAAUG,QAAQ,QAChBpC,EAEJD,EAEX,SAASsC,EAAUC,EAAKC,EAAQC,QACb,IAAXD,IAAqBA,EAAS,SACZ,IAAlBC,IAA4BA,EAAgB,IAChDnI,OAAOoI,KAAKD,GAAeE,SAAQ,SAAUC,GACzCL,EAAMA,EAAIM,QAAQ,IAAMD,EAAY,IAAKH,EAAcG,GAAWE,eAEtE,IAAIC,EAASzI,OAAOoI,KAAKF,GACpBT,KAAI,SAAU/E,GAAO,OAAOA,EAAM,IAAMwF,EAAOxF,MAC/CgG,KAAK,KAIV,OAHID,IACAA,GAAUR,EAAIF,QAAQ,MAAQ,EAAI,IAAM,KAAOU,GAE5CR,EAAMQ,EAEjB,SAASE,EAAoBC,EAAUC,EAAYC,EAAQC,EAAaC,EAAWC,QAC7D,IAAdD,IAAwBA,EAAY,SAC1B,IAAVC,IAAoBA,EAAQ,IAChCF,EAA2C,MAA7BA,EAAYG,OAAO,EAAG,GAAaH,EAAYG,OAAO,GAAKH,EACzEA,EAAcA,EACiB,MAA3BA,EAAYG,QAAQ,GAAaH,EAAeA,EAAc,IAC5DA,EACN,IAAII,EAAaC,EAAeH,GAChC,OAAOjB,EAAU,yDAA0D,CAAEqB,YAAa/B,EAAWtF,IAAI,gBAAkB,IAAM,CAC7H4G,SAAUA,EACVC,WAAYA,EACZC,OAAQA,EACRC,YAAaA,IACX,MAAQC,EAAYG,GAE9B,SAASG,EAAWrB,EAAKC,GAErB,YADe,IAAXA,IAAqBA,EAAS,IAC3B1E,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIgG,EACJ,OAAOhF,EAAYhB,MAAM,SAAUgC,GAE/B,OADAgE,EAAc5B,IACP,CAAC,EAAG,IAAI5D,SAAQ,SAAUD,EAASE,GAClC,IAAIwF,EAAaxB,EAAUC,EAAKC,GAChC,GAAIqB,IAAgB/D,EAChB0B,EAAGuC,YAAYH,WAAW,CACtBrB,IAAKuB,EACLE,QAAS,WAEL,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKtG,UAAUvD,OAAQ6J,IACpCD,EAAKC,GAAMtG,UAAUsG,GAEzB,OAAO9F,EAAQ6F,IAEnBE,KAAM,SAAUC,GAAU,OAAO9F,EAAO8F,WAG3C,GAAIP,IAAgB9D,QACpB,GAAI8D,IAAgB7D,EAAS,CAC9B,IAAK,UAAUM,KAAKiC,GAAM,CACtB,IAAI8B,EAAWC,EAAe/B,GAC9B8B,EAASd,MAAQgB,KAAKC,MAAMC,mBAAmBJ,EAASd,OAAS,KAAO,MACxEhB,EAAMU,EAAoBoB,EAASnB,SAAUmB,EAASlB,WAAYkB,EAASjB,OAAQiB,EAASK,KAAML,EAASf,UAAWe,EAASd,OAEnInD,SAASD,KAAOoC,aAMxC,SAASoC,EAAaC,GAElB,YADc,IAAVA,IAAoBA,EAAQ,GACzB9G,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIgG,EACJ,OAAOhF,EAAYhB,MAAM,SAAUgC,GAE/B,OADAgE,EAAc5B,IACP,CAAC,EAAG,IAAI5D,SAAQ,SAAUD,EAASE,GAC9BuF,IAAgB/D,GAChB0B,EAAGuC,YAAYY,aAAa,CACxBC,MAAOA,EACPZ,QAAS,WAEL,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKtG,UAAUvD,OAAQ6J,IACpCD,EAAKC,GAAMtG,UAAUsG,GAEzB,OAAO9F,EAAQ6F,IAEnBE,KAAM,SAAUC,GAAU,OAAO9F,EAAO8F,gBAOpE,SAASS,EAAcrC,QACJ,IAAXA,IAAqBA,EAAS,IAClC,IAAIsC,EAASxK,OAAOoI,KAAKF,GAAQuC,OAC5BhD,KAAI,SAAU/E,GAAO,YAAuBgI,IAAhBxC,EAAOxF,GAAqBA,EAAM,IAAMwF,EAAOxF,QAAOgI,KAClFC,QAAO,SAAUC,GAAQ,OAAOA,KAChClC,KAAKlC,EAAQC,eAAiBD,EAAQ9D,IAC3C,OAAOmI,SAAIC,QAAQN,GAEvB,SAASpB,EAAelB,EAAQ6C,QACb,IAAX7C,IAAqBA,EAAS,SACT,IAArB6C,IAA+BA,GAAmB,GACtD,IAAIC,EAAWhL,OAAOoI,KAAKF,GACtBT,KAAI,SAAU/E,GAAO,OAAOA,EAAM,IAAMwF,EAAOxF,MAC/CgG,KAAK,KAIV,OAHIqC,IACAC,GAAYA,EAAW,IAAM,IAAMA,GAEhCA,EAEX,SAAShB,EAAe/B,GACpB,IAAIC,EAAS,GAQb,OAPCD,EAAIgD,MAAM,YAAc,CAAC,GAAI,KAAK,GAC9BC,MAAM,KAAK7C,SAAQ,SAAU8C,GAC9B,IAAIC,EAASD,EAAMD,MAAM,KACH,IAAlBE,EAAOrL,SACPmI,EAAOkD,EAAO,IAAMA,EAAO,OAG5BlD,EAEX,SAASmD,EAAeC,QACH,IAAbA,IAAuBA,EAAW,IACtC,IAAIC,EAAY,CACZ3C,SAAU,GACVC,WAAY,GACZC,OAAQ,IAEZwC,EAAqC,MAA1BA,EAASpC,OAAO,EAAG,GAAaoC,EAASpC,OAAO,GAAKoC,EAChE,IAAIE,EAAcF,EAASJ,MAAM,KAC7BO,EAAiBD,EAAYzD,QAAQ,UACzC,GAAI0D,IAAmB,EACnB,MAAM,IAAIC,MAAM,6CAMpB,OAJAF,EAAcA,EAAYrI,MAAM,EAAGsI,GACnCF,EAAU3C,SAAW4C,EAAY,IAAM,GACvCD,EAAU1C,WAAa2C,EAAY,IAAM,GACzCD,EAAUzC,OAAS0C,EAAY,IAAM,GAC9BD,EAEX,SAASI,EAAeC,GAEpB,YADe,IAAXA,IAAqBA,GAAS,IAC1BtE,EAAWtF,IAAI,eAAiB,KAAOsF,EAAWtF,IAAI,UAAY,KAAO4J,EAAS,QAAU,IAExG,SAASC,EAAUzB,EAAMpB,EAAWC,EAAO6C,QACnB,IAAhBA,IAA0BA,GAAc,GAC5C,IAAIC,EAAa,GAOjB,OANI/C,IACA+C,EAAW/C,UAAYA,GAEvBC,IACA8C,EAAW9C,MAAQ+C,mBAAmB/B,KAAKgC,UAAUhD,KAElDjB,EAAU8D,EAAc9E,EAAkB,GAAI5D,EAAS,CAAEyF,WAAYvB,EAAWtF,IAAI,eAAiB,GAAI4G,SAAUtB,EAAWtF,IAAI,aAAe,GAAI8G,OAAQxB,EAAWtF,IAAI,WAAa,GAAIoI,KAAMA,GAAQ2B,IAEtN,SAASG,EAAWC,GAChB,IAAIC,EAAW,SAAUC,GAAO,OAAOA,GAAO,GAAKA,EAAM,GAAM,IAAMA,EAAOA,EAAI7D,YAChF,OAAO2D,EAAKG,cAAgB,IAAMF,EAASD,EAAKI,WAAa,GAAK,IAAMH,EAASD,EAAKK,WAAa,IAAMJ,EAASD,EAAKM,YAAc,IAAML,EAASD,EAAKO,cAAgB,IAAMN,EAASD,EAAKQ,cAGjM,SAASC,EAAaC,GAClBA,EAAQC,aAAaD,QAAQE,KAAI,SAAUC,GACvC,IACqCrD,EADjCsD,EAAWtF,IAAe0B,EAAc/B,EAAWtF,IAAI,gBAAkB,GAAIkL,EAAYC,KAAKjD,OAAM,IAAIiD,MAAO3E,YAAc,IAC7H4E,EAASJ,EAAOI,QAAU,MAa9B,OAXIzD,EADA,2BAA2B3D,KAAKoH,GACzBJ,EAAOzN,KAAOyN,EAAOzN,MAAQ,GAG7ByN,EAAO9E,OAAS8E,EAAO9E,QAAU,GAE5ClI,OAAOqD,OAAOsG,EAAM,CAAEsD,SAAUA,EAAUC,UAAWA,IACrDvD,EAAK0D,KAAO9C,EAAcZ,GAC1BqD,EAAOM,QAAUlK,EAASA,EAAS,GAAK4J,EAAOM,SAAW,IAAM,CAAE,eAAgB,mCAC9EjE,IACA2D,EAAOM,QAAQF,EAAOtF,eAAiB,OAAO,kBAAoBuB,GAE/D2D,KACR,SAAUjH,GACThC,QAAQC,OAAO+B,MAEnB8G,EAAQC,aAAaS,SAASR,KAAI,SAAUQ,GACxC,OAAwB,MAApBA,EAASC,OACkB,MAAvBD,EAAShO,KAAKkO,KACPF,EAMAxJ,QAAQC,OAAO,IAAI0H,MAAM6B,EAAShO,KAAKmO,MAI3C3J,QAAQC,OAAOuJ,MAE3B,SAAUxH,GACT,OAAOhC,QAAQC,OAAO+B,EAAMwH,aAIpC,IAAIV,EAAUc,IAAMlL,OAAO,CACvBmL,QAASxH,EACTyH,QAAS,MAEbjB,EAAYC,GACZ,IAMIiB,EANAC,EAAcJ,IAAMlL,OAAO,CAC3BmL,QAASrH,EACTsH,QAAS,MAEbjB,EAAYmB,GAGZ,IAAIC,EAAe,GACfC,EAAU,CACVC,KAAM,SAAUC,GACPA,IAGLL,EAAWK,EACXlL,OAAOmL,iBAAiB,WAAW,SAAUC,GACzC,IAAI9O,EAAO8O,EAAM9O,KACb+O,EAASN,EAAazO,EAAKoC,MAC3B2M,GACAA,EAAO5N,MAAM,KAAMnB,EAAKoK,WAIpC4E,GAAI,SAAU5M,EAAM6M,GACE,oBAAPA,GAAqC,kBAAT7M,IACnCqM,EAAarM,GAAQ6M,IAG7BC,KAAM,SAAU9M,GAEZ,IADA,IAAIgI,EAAO,GACFC,EAAK,EAAGA,EAAKtG,UAAUvD,OAAQ6J,IACpCD,EAAKC,EAAK,GAAKtG,UAAUsG,GAEzBkE,GACAA,EAASY,YAAY,CAAE/M,KAAMA,EAAMgI,KAAMA,GAAQ,OAK7D,SAASgF,EAAapJ,GAClB,IAAI6E,EAAO7E,EAAG6E,KAAMpB,EAAYzD,EAAGyD,UAAWC,EAAQ1D,EAAG0D,MACzD,OAAOK,EAAWuC,EAAUzB,EAAMpB,EAAWC,IAEjD,SAAS2F,EAAetE,GACpB,OAAO9G,EAAUD,UAAM,OAAQ,GAAQ,WACnC,OAAOgB,EAAYhB,MAAM,SAAUgC,GAC/B,MAAO,CAAC,EAAG8E,EAAaC,UAIpC,SAASuE,EAASC,GACTA,IAGLC,SAASD,MAAQA,EACC,eAAdlJ,KACAqI,EAAQQ,KAAK,eAAgBK,IAGrC,SAASE,EAAmBC,GACxB,IAAIC,EAAWpJ,SAASqJ,KAAKlE,MAAM,mBAAqB,CAAC,GAAI,GAAI,IAC7D/C,EAAS8B,EAAekF,EAAQ,IACpChH,EAAOkH,aAAepD,mBAAmB/B,KAAKgC,UAAUgD,IACxD,IAAII,EAAUrH,EAAUkH,EAAQ,GAAIhH,GACpCjF,OAAOqM,QAAQC,aAAa,KAAM,GAAIF,GAG1C,IAAIG,EAAkBxP,OAAOyP,OAAO,CAChCC,UAAW,KACXf,aAAcA,EACdC,eAAgBA,EAChBC,SAAUA,EACVG,mBAAoBA,IAGpBW,EAAkB,CAAC,aAAc,gBAAiB,aACtD,SAASC,GAAKC,EAASC,GAGnB,QAFgB,IAAZD,IAAsBA,EAAU,SACf,IAAjBC,IAA2BA,EAAe,CAAEhB,MAAO,KACnD9O,OAAOoI,KAAKyH,GAAS9P,QAAU,EAC/B,MAAO,CACHgQ,IAAKA,aACLC,UAAWA,OACXC,KAAMA,OACNpD,QAASA,EACTkB,YAAaA,EACbf,OAAQ,CACJlE,OAAQxB,EAAWtF,IAAI,WAAa,GACpC6G,WAAYvB,EAAWtF,IAAI,eAAiB,GAC5C4G,SAAUtB,EAAWtF,IAAI,aAAe,KAIpD,IAAIkO,OAASxF,EAAWyF,EAAUL,EAAaK,QAASC,EAASN,EAAaM,OAAQC,EAAUP,EAAaO,QAASjB,EAAeU,EAAaV,aAAcN,EAAQgB,EAAahB,MAC9J,WAAnB,eAAOqB,IAAwBG,MAAMC,QAAQJ,EAAQK,SAAWL,EAAQK,OAAOzQ,OAAS,IACxFgQ,aAAIhD,IAAIiD,QACRE,EAAS,IAAIF,OAAUG,GACvBR,EAAgBtH,SAAQ,SAAUoI,GAC1BN,GAAWD,GAAuC,oBAAtBC,EAAQM,IACpCP,EAAOO,GAAUN,EAAQM,QAIrC,IAAIC,OAAQhG,EACU,WAAlB,eAAO0F,IAAuBpQ,OAAOoI,KAAKgI,GAAQrQ,OAAS,IAC3DgQ,aAAIhD,IAAIkD,QACRS,EAAQ,IAAIT,OAAKU,MAAMP,IAEvBE,MAAMC,QAAQF,IAAYA,EAAQtQ,OAAS,GAC3CsQ,EAAQhI,SAAQ,SAAU9C,GACtB,IAAIqL,EAAiBrL,EAAG,GAAIsL,EAAMtL,EAAG,GACrCwK,aAAIhD,IAAI6D,EAAgBC,MAGhC,IAAIC,EAAa,CAAE1B,aAAcA,GAejC,GAdA9H,EAAWC,IAAI,aAAcuJ,GACX,eAAdlL,KACAqI,EAAQC,KAAKjL,OAAO8N,QACpB9C,EAAQM,GAAG,cAAc,SAAUyC,GAC/B1J,EAAWC,IAAI,oBAAqByJ,GACpCC,QAAQC,IAAI,UAAW,+BAAgC,2BAI3DnD,EAAYoD,KAAK,sBAAuB,CACpCzO,IAAK4E,EAAWtF,IAAI,YACpBI,MAAO0O,IAGM,kBAAVhC,EACPD,EAASC,QAER,GAAqB,oBAAVA,EAAsB,CAClC,IAAIsC,EAAUtC,IACS,kBAAZsC,EACPvC,EAASuC,GAEJA,aAAmBrN,SACxBqN,EAAQ9M,MAAK,SAAU+M,GACA,kBAARA,GACPxC,EAASwC,MAKzB,IAAItB,aAAI,CACJG,OAAQA,EACRQ,MAAOA,EACPY,OAAQ,SAAUC,GAAK,OAAOA,EAAE1B,MACjC2B,OAAO,QAGd,SAASC,GAAoB5B,GACzB,OAAOrM,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIsF,EAAYC,EAAQvJ,EAAMmS,EAC9B,OAAOnN,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EACDgE,EAAavB,EAAWtF,IAAI,cAC5B8G,EAASxB,EAAWtF,IAAI,UACxBuD,EAAGV,MAAQ,EACf,KAAK,EAED,OADAU,EAAGR,KAAK1E,KAAK,CAAC,EAAG,EAAJ,CAAS,IACf,CAAC,EAAGwM,EAAQsE,KAAK,kCAAmC/N,EAAS,CAAEyF,WAAYA,EAC1EC,OAAQA,GAAU+G,KAC9B,KAAK,EAED,GADAtQ,EAAQgG,EAAGT,OAAQvF,KACD,MAAdA,EAAKkO,KACL,MAAM,IAAI/B,MAAMnM,EAAKmO,KAEzB,MAAO,CAAC,EAAGnO,EAAKA,MACpB,KAAK,EAGD,MAFAmS,EAAUnM,EAAGT,OACb4M,EAAQzD,QAAU,2BAA6ByD,EAAQzD,QACjDyD,EACV,KAAK,EAAG,MAAO,CAAC,UAMhC,IAAIC,GAAc,SAClB,SAASC,GAAOvK,EAAK4G,GACjB,IAAK5G,EACD,MAAM,IAAIqE,MAAM,IAAMiG,GAAc,KAAO1D,GAAW,WAwB9D,SAAS4D,GAAaC,GAClB,IAAIC,EAAQxO,KACZ,OAAO,IAAIQ,SAAQ,SAAUD,EAASE,GAClC,GAAK8N,EAIL,IAAIE,EAAQC,aAAY,WAAc,OAAOzO,EAAUuO,OAAO,OAAQ,GAAQ,WAC1E,IAAIxS,EAAM2S,EACV,OAAO3N,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAAG,MAAO,CAAC,EAAGkJ,EAAY/L,IAAI,qBAAsB,CACjDkG,OAAQ,CAAExF,IAAKoP,MAEvB,KAAK,EAGD,OAFAvS,EAAQgG,EAAGT,OAAQvF,KACnB2S,EAAW3S,EAAKA,KACE,MAAdA,EAAKkO,MAAiByE,GAG1BnE,EAAY/L,IAAI,wBAAyB,CACrCkG,OAAQ,CAAExF,IAAKoP,KAEnBK,cAAcH,GACVE,EAASE,UACTpO,EAAOkO,EAASE,WAGhBtO,EAAQoO,EAAS3E,UAEd,CAAC,IAZG,CAAC,YAerB,WA7BHvJ,EAAO,kBAzBnB4N,GAAOS,QAAU,SAAUhL,EAAK4G,GAC5B2D,GAAe,OAARvK,QAAwBqD,IAARrD,EAAmB4G,GAAW,WAEzD2D,GAAO3G,MAAQ,SAAU5D,EAAKiL,EAAKrE,GAC/B2D,GAAOU,EAAItM,KAAKqB,GAAM4G,GAAW,kBAEjC2D,GAAOW,MAAQ,SAAUlL,EAAKmL,EAAUvE,GACpC2D,GAAOvK,IAAQmL,EAAUvE,GAAW,eAExC2D,GAAOa,UAAY,SAAUpL,EAAKqL,EAAMzE,GACpC,IAAI0E,EAAUrC,MAAMC,QAAQmC,GAAQA,EAAO,CAACA,GACxCE,GAAY,EAChB,IAAK,IAAI/S,KAAK8S,EACV,GAAIA,EAAQ9S,MAAgB,OAARwH,QAAwB,IAARA,OAAiB,EAASA,EAAIwL,aAAc,CAC5ED,GAAY,EACZ,MAGRhB,GAAOgB,EAAW3E,GAAW,eAwCrC,IAAI6E,GAAe,mEACfC,GAAY,CACZC,gBAAiB,iBACjBC,SAAU,YAEd,SAASC,GAAIC,GACT,OAAO3P,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIuO,EAASjJ,EAAYC,EACzB,OAAOvE,EAAYhB,MAAM,SAAUgC,GAoB/B,OAnBAqM,GAAO5R,OAAOoT,OAAOL,IAAWhL,QAAQoL,EAAWE,SAAW,EAAG,mCACjEzB,GAAOuB,EAAWG,OAAS,EAAG,mBACJ,mBAAtBH,EAAWE,QACXzB,GAAOuB,EAAWI,cAAe,4BAErCzB,EAAUnG,IACV9C,EAAavB,EAAWtF,IAAI,cAC5B8G,EAASxB,EAAWtF,IAAI,UACxBsH,EAAWwJ,GAAc,CACrBvT,KAAMyM,mBAAmB/B,KAAKgC,UAAU,CACpCoH,OAAQ,MACRvB,QAASA,EACT0B,QAAS,CACLL,WAAYA,EACZtK,WAAYA,EACZC,OAAQA,QAIb,CAAC,EAAG+I,GAAYC,UAInC,SAAS2B,GAAiB5D,EAAS6D,EAASC,GACxC,OAAOnQ,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIqQ,EAAc3G,EAAU4G,EAAeC,EAAoBC,EAASjC,EAASkC,EAAcC,EAAgBC,EAAQC,EAAcC,EAAcC,EAAQC,EAAeC,EAC1K,OAAOhQ,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAYD,GAXA+O,EAAe5T,OAAOoI,KAAKyH,GAC3B+B,GAAOgC,EAAa7T,OAAS,EAAG,aAChCC,OAAOoI,KAAKyH,GAASxH,SAAQ,SAAUmM,GACnC,IAAIjP,EAAKsK,EAAQ2E,GAAUC,EAASlP,EAAGkP,OAAQC,EAAUnP,EAAGmP,QAASC,EAAapP,EAAGoP,WACrF/C,GAAO6C,aAAkBtH,MAA2B,kBAAZuH,EAAsB,iBAAmBF,EAAU,2BAC3F5C,GAAO+C,EAAW5U,OAAS,EAAG,iBAAmByU,EAAU,gBAE/DvH,EAAWtF,IAIPsF,IAAazH,GAAayH,IAAaxH,EACvC,MAAM,IAAIiG,MAAM,IAAMuB,EAAW,eAoCrC,OAlCA4G,EAAgB,GAChBC,EAAqBpN,EAAYuG,GACjC8G,EAAUH,EAAanM,KAAI,SAAUmN,GACjC,IAAIT,EAAeL,EAAmBc,GACtC,GAAIT,EAAc,CACd,IAAIU,EAAehF,EAAQ+E,GAASD,YAAc,GAClD,KAAIE,EAAa9U,QAAUoU,EAAatN,UAAU9G,QAM9C,MAAM,IAAI2L,MAAM,OAAmBkJ,EAAU,IAAMT,EAAarN,WALhE,IAAIgO,EAAkB,GACtBX,EAAatN,UAAUwB,SAAQ,SAAU0M,EAAUC,GAAS,OAAOF,EAAgBC,GAAYF,EAAaG,MAC5GnB,EAAcM,EAAavN,IAAMkO,EAMzC,OAAOX,EAAavN,MACrB+D,QAAO,SAAUwJ,GAAgB,OAAOA,KAC3CvC,GAAOmC,EAAQhU,OAAS,EAAG,aAC3B+R,EAAUnG,IAENrC,EAAWwJ,GAAc,CACrBvT,KAAMyM,mBAAmB/B,KAAKgC,UAAU,CACpCoH,OAAQ,SACRvB,QAASA,EACT0B,QAAS,CACLO,QAASA,EACTL,QAASA,EACTC,QAASA,QAKzBK,EAAe,GAER,CAAC,EAAGnC,GAAYC,IAC3B,KAAK,EAED,OADAkC,EAAezO,EAAGT,OACX,CAAC,EAAG,GACf,KAAK,EACDiP,EAAQ1L,SAAQ,SAAUgM,GAAU,OAAOL,EAAaK,GAAU,YAClE9O,EAAGV,MAAQ,EACf,KAAK,EAED,IAAKqP,KADLD,EAAiB,GACFH,EACXK,EAAeL,EAAmBI,GAClCD,EAAeE,EAAavN,IAAMsN,EAGtC,IAAKG,KADLD,EAAe,GACAJ,EACXM,EAAgBzE,EAAQoE,EAAeI,IACV,WAAzBL,EAAaK,IAAwBC,IACrCF,EAAaC,GAAU,CACnBM,WAAYd,EAAcQ,GAC1BI,OAAQH,EAAcG,OAASvI,EAAWoI,EAAcG,QAAU,GAClEC,QAASJ,EAAcI,QACvBtK,KAAMyB,EAAUyI,EAAclK,KAAMkK,EAActL,UAAWsL,EAAcrL,OAAO,KAK9F,MAAO,CAAC,EAAGwI,GAAmB,CACtB9P,KAAM,mBACNpC,KAAM6U,KAElB,KAAK,EAED,OADA7O,EAAGT,OACI,CAAC,EAAG,GACf,KAAK,EACDmM,QAAQC,IAAIkD,GACZ7O,EAAGV,MAAQ,EACf,KAAK,EAKD,OAJA0P,EAAe,GACfvU,OAAOoI,KAAK4L,GAAc3L,SAAQ,SAAUgM,GACxCE,EAAaN,EAAeI,IAAWA,GAAUL,EAAaK,MAE3D,CAAC,EAAGE,UAK/B,SAASU,GAAMhG,GACX,OAAOzL,EAAUD,UAAM,OAAQ,GAAQ,WACnC,OAAOgB,EAAYhB,MAAM,SAAUgC,GAW/B,OAVA+D,EAAWwJ,GAAc,CACrBvT,KAAM0D,OAAO+I,mBAAmB/B,KAAKgC,UAAU,CAC3CoH,OAAQ,QACRG,QAAS,CACL1E,MAAOG,EAAaH,MACpBoG,SAAUjG,EAAaiG,SACvB9K,KAAMyB,EAAUoD,EAAa7E,KAAM6E,EAAajG,UAAWiG,EAAahG,aAI7E,CAAC,SAIpB,IAAIkM,GAAY,CACZC,aAAc,2CAElB,SAASC,GAAeC,EAAUpN,GAE9B,YADe,IAAXA,IAAqBA,EAAS,IAC3B1E,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAI6G,EACJ,OAAO7F,EAAYhB,MAAM,SAAUgC,GAG/B,OAFA6E,EAAO+K,GAAUG,GACjB1D,GAAOS,QAAQjI,EAAM,oBAAsBkL,EAAW,KAC/C,CAAC,EAAGhM,EAAWc,EAAMlC,UAIxC,SAASqN,GAAYC,GACjB,OAAOhS,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIkS,EAAU3D,EACd,OAAOvN,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAAG,MAAO,CAAC,EAAG4M,GAAmB,CAAE9P,KAAM,iBAC9C,KAAK,EAED,OADA8T,EAAWlQ,EAAGT,OACR2Q,EAAiB,CAAC,EAAG,IAC3B3D,EAAUnG,IACVrC,EAAW,qBAAsB,CAC7BkM,KAAMA,EACN1D,QAASA,EACT4D,KAAM,SAEH,CAAC,EAAG7D,GAAYC,KAC3B,KAAK,EACD2D,EAAWlQ,EAAGT,OACdS,EAAGV,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAG4Q,UAKnC,SAASE,GAAWC,EAASC,GACzB,OAAOrS,EAAUD,UAAM,OAAQ,GAAQ,WACnC,OAAOgB,EAAYhB,MAAM,SAAUgC,GAE/B,OADAqM,GAAOgE,EAAS,iCACT,CAAC,EAAGnE,GAAmB,CACtB9P,KAAM,aACNpC,KAAM,CAAEuW,WAAYD,EAAQD,QAASA,YAKzD,SAASG,GAAcH,GACnB,OAAOpS,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIyS,EAAiBC,EAAeC,EAAUC,EAAWC,EAAiBvW,EAAGwW,EAAQC,EAAYC,EAAeC,EAAgBpO,EAChI,OAAO7D,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAOD,IAAKhF,KANL+R,GAAOa,UAAUmD,EAAS,CAACa,OAAQnG,OAAQ,wDAC3C0F,EAAkB,aAClBC,EAAgB3O,EAAWtF,IAAIgU,IAAoB,GACnDE,EAAW5F,MAAMC,QAAQqF,GAAWA,EAAU,CAACA,GAC/CO,EAAY,GACZC,EAAkB,GACRF,EACNG,EAASH,EAASrW,GAClByW,EAAaL,EAAcI,GACtBC,EAIDH,EAAUG,EAAW1P,IAAM0P,EAH3BF,EAAgB/V,KAAKgW,GAM7B,OAAMD,EAAgBrW,OAAS,EACxB,CAAC,EAAG0R,GAAmB,CACtB9P,KAAM,gBACNpC,KAAM,CAAEqW,QAASQ,MAHiB,CAAC,EAAG,GAKlD,KAAK,EACDG,EAAgBhR,EAAGT,OACnB0R,EAAiBrJ,KAAKuJ,MACtBN,EAAgB/N,SAAQ,SAAUuN,GAC9B,IAAIU,EAAaC,EAAcI,MAAK,SAAUpR,GAC1C,IAAIqB,EAAKrB,EAAGqB,GACZ,OAAOA,IAAOgP,KAEdU,IACAA,EAAWM,WAAa,IAAIzJ,KAA6B,IAAxBmJ,EAAWM,YAC5CN,EAAW9I,OAAS8I,EAAWM,WAAWC,UAAYL,EAAiB,EAAIF,EAAW9I,OACnD,kBAAxB8I,EAAWQ,WAClBR,EAAWQ,SAAW7M,KAAKC,MAAMoM,EAAWQ,UAAY,OAE5Db,EAAcK,EAAW1P,IAAM0P,GAEnCH,EAAUP,GAAWU,KAEzB/Q,EAAGV,MAAQ,EACf,KAAK,EACD,OAAIyL,MAAMC,QAAQqF,GACP,CAAC,EAAGO,IAGX/N,EAAOpI,OAAOoI,KAAK+N,GACZ,CAAC,EAAG/N,EAAKrI,OAAS,EAAIoW,EAAU/N,EAAK,IAAM,cAM1E,SAAS2O,GAAYC,GACjB,OAAOxT,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAI0T,EAAiBC,EAAeC,EAASC,EAAWC,EAAgBxX,EAAGwW,EAAQiB,EAAUC,EAAanP,EAC1G,OAAO7D,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAOD,IAAKhF,KANL+R,GAAOa,UAAUuE,EAAQ,CAACP,OAAQnG,OAAQ,uDAC1C2G,EAAkB,aAClBC,EAAgB5P,EAAWtF,IAAIiV,IAAoB,GACnDE,EAAU7G,MAAMC,QAAQyG,GAAUA,EAAS,CAACA,GAC5CI,EAAY,GACZC,EAAiB,GACPF,EACNd,EAASc,EAAQtX,GACjByX,EAAWJ,EAAcb,GACpBiB,EAIDF,EAAUE,EAAS1Q,IAAM0Q,EAHzBD,EAAehX,KAAKgW,GAM5B,OAAMgB,EAAetX,OAAS,EACvB,CAAC,EAAG0R,GAAmB,CACtB9P,KAAM,cACNpC,KAAM,CAAEyX,OAAQK,MAHiB,CAAC,EAAG,GAKjD,KAAK,EACDE,EAAchS,EAAGT,OACjBuS,EAAehP,SAAQ,SAAU2O,GAC7B,IAAIV,EAAaiB,EAAYZ,MAAK,SAAUpR,GACxC,IAAIqB,EAAKrB,EAAGqB,GACZ,OAAOA,IAAOoQ,KAEdV,IACAY,EAAcZ,EAAW1P,IAAM0P,GAEnCc,EAAUJ,GAAUV,KAExB/Q,EAAGV,MAAQ,EACf,KAAK,EACD,OAAIyL,MAAMC,QAAQyG,GACP,CAAC,EAAGI,IAGXhP,EAAOpI,OAAOoI,KAAKgP,GACZ,CAAC,EAAGhP,EAAKrI,OAAS,EAAIqX,EAAUhP,EAAK,IAAM,cAM1E,SAASoP,KACL,OAAOhU,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIkU,EAAmBC,EACvB,OAAOnT,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAGD,OAFA4S,EAAoB,WACpBC,EAAWpQ,EAAWtF,IAAIyV,GACpBC,EAAiB,CAAC,EAAG,GACpB,CAAC,EAAGjG,GAAmB,CAAE9P,KAAM,iBAC1C,KAAK,EACD+V,EAAWnS,EAAGT,OACdwC,EAAWC,IAAIkQ,EAAmBC,GAClCnS,EAAGV,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAG6S,UAKnC,SAASC,KACL,OAAOnU,EAAUD,UAAM,OAAQ,GAAQ,WACnC,IAAIqU,EAAiB5G,EACrB,OAAOzM,EAAYhB,MAAM,SAAUgC,GAC/B,OAAQA,EAAGV,OACP,KAAK,EAGD,OAFA+S,EAAkB,oBAClB5G,EAAa1J,EAAWtF,IAAI4V,GACtB5G,EAAmB,CAAC,EAAG,GACtB,CAAC,EAAGS,GAAmB,CAAE9P,KAAM,sBAC1C,KAAK,EACDqP,EAAazL,EAAGT,OAChBwC,EAAWC,IAAIqQ,EAAiB5G,GAChCzL,EAAGV,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAGmM,UAKnC,SAAS6G,GAAcnD,GACnB,OAAOlR,EAAUD,UAAM,OAAQ,GAAQ,WACnC,OAAOgB,EAAYhB,MAAM,SAAUgC,GAC/B,MAAO,CAAC,EAAGkM,GAAmB,CACtB9P,KAAM,gBACNpC,KAAM,CAAEmV,QAASA,YAKrC,SAASoD,GAAWhP,GAChBA,EAASA,EAAON,WAAWuP,OAC3B,IAAIC,EAAgB1Q,EAAWtF,IAAI,WAAa,GAC5C8G,GAAUkP,IAAkBlP,IAC5BhD,SAASD,KAAOC,SAASD,KAAK0C,QAAQ,sBAAsB,SAAU0P,EAAKC,GACvE,OAAOD,EAAI1P,QAAQ2P,EAAK,IAAMpP,EAAS,SAKnD,IAiBIqP,GAjBAC,GAAkBpY,OAAOyP,OAAO,CAChCC,UAAW,KACXqD,UAAWA,GACXG,IAAKA,GACLO,iBAAkBA,GAClBwB,MAAOA,GACPI,eAAgBA,GAChBE,YAAaA,GACbI,WAAYA,GACZI,cAAeA,GACfgB,YAAaA,GACbS,YAAaA,GACbG,iBAAkBA,GAClBE,cAAeA,GACfC,WAAYA,KAIZO,GAAY,SAAUC,EAAW5V,GAAO,OAAO4V,EAAY5V,EAAI8F,YAC/D+P,GAAsB,kCACtBC,GAAoB,SAAUC,GAC9B,IAAIlT,EAAKmT,GAASD,GAAaE,EAAapT,EAAGoT,WAAYL,EAAY/S,EAAG+S,UACtEM,EAAeP,GAAUC,EAAWC,IACxC,MAAO,CACHM,QAASF,EACTC,aAAcA,EACdN,UAAWA,EACXlQ,KAAM6B,KAAKC,MAAMyO,EAAWG,QAAQF,IAAiB,QAGzDG,GAAgB,eAChBC,GAAkB,iBAClBN,IAAYP,GAAO,GACnBA,GAAKY,IAAiB,CAClBJ,WAAY1V,OAAOgW,aACnBX,UAAW,IAEfH,GAAKa,IAAmB,CACpBL,WAAY1V,OAAOiW,eACnBZ,UAAW,IAEfH,IACAgB,GAAqB,WACrB,SAASA,EAAkBb,EAAWG,GAClCC,GAASD,GAAYH,UAAYA,EACjC/U,KAAKkV,WAAaA,EAClB,IAAIrQ,EAAOoQ,GAAkBC,GAAYrQ,KACzC7E,KAAKxD,OAASqI,EAAKrI,OA8CvB,OA5CAoZ,EAAkBlZ,UAAUmH,QAAU,SAAU1E,EAAKN,GACjD,IAAImD,EAAKiT,GAAkBjV,KAAKkV,YAAaI,EAAUtT,EAAGsT,QAASzQ,EAAO7C,EAAG6C,KAAMwQ,EAAerT,EAAGqT,aAAcN,EAAY/S,EAAG+S,UAC9HtD,EAAQ5M,EAAKL,QAAQrF,GASzB,OARI0F,EAAKrI,OAAS,GAAKiV,GAAS,EAC5B5M,EAAK4M,GAAStS,EAGd0F,EAAK/H,KAAKqC,GAEda,KAAKxD,OAASqI,EAAKrI,OACnB8Y,EAAQzR,QAAQwR,EAAc3O,KAAKgC,UAAU7D,IACtCyQ,EAAQzR,QAAQiR,GAAUC,EAAW5V,GAAMN,IAEtD+W,EAAkBlZ,UAAU6Y,QAAU,SAAUpW,GAC5C,IAAI6C,EAAKiT,GAAkBjV,KAAKkV,YAAaI,EAAUtT,EAAGsT,QAASP,EAAY/S,EAAG+S,UAClF,OAAOO,EAAQC,QAAQT,GAAUC,EAAW5V,KAEhDyW,EAAkBlZ,UAAUmZ,WAAa,SAAU1W,GAC/C,IAAI6C,EAAKiT,GAAkBjV,KAAKkV,YAAaI,EAAUtT,EAAGsT,QAASzQ,EAAO7C,EAAG6C,KAAMwQ,EAAerT,EAAGqT,aAAcN,EAAY/S,EAAG+S,UAC9HtD,EAAQ5M,EAAKL,QAAQrF,GAMzB,OALI0F,EAAKrI,OAAS,GAAKiV,GAAS,GAC5B5M,EAAKnH,OAAO+T,EAAO,GAEvBzR,KAAKxD,OAASqI,EAAKrI,OACnB8Y,EAAQzR,QAAQwR,EAAc3O,KAAKgC,UAAU7D,IACtCyQ,EAAQO,WAAWf,GAAUC,EAAW5V,KAEnDyW,EAAkBlZ,UAAUoZ,MAAQ,WAChC,IAAI9T,EAAKiT,GAAkBjV,KAAKkV,YAAaI,EAAUtT,EAAGsT,QAASzQ,EAAO7C,EAAG6C,KAAMwQ,EAAerT,EAAGqT,aAAcN,EAAY/S,EAAG+S,UAC9HlQ,EAAKrI,OAAS,GACdqI,EAAKC,SAAQ,SAAU3F,GAAO,OAAOmW,EAAQO,WAAWf,GAAUC,EAAW5V,OAEjFa,KAAKxD,OAAS,EACd8Y,EAAQO,WAAWR,IAEvBO,EAAkBlZ,UAAUyC,IAAM,SAAUsS,GACxC,IAAItS,EAAM,KACN6C,EAAKiT,GAAkBjV,KAAKkV,YAAarQ,EAAO7C,EAAG6C,KAAMkQ,EAAY/S,EAAG+S,UACxEgB,EAAgBlR,EAAK4M,GAIzB,MAH6B,kBAAlBsE,IACP5W,EAAM4W,EAAc/Q,QAAQ+P,EAAW,KAEpC5V,GAEJyW,EAnDc,GAsDrBI,GAAkB,CAClBC,WAAY,SAAUC,EAAQ1Z,GAC1B,MAAO,YAAc0Z,EAAS,2BAA6B1Z,IAG/D2Z,GAAiB,CACjBC,OAAQ,SAAUtS,EAAKzC,GAGnB,OAFAgN,GAAsB,IAAfvK,EAAItH,OAAcwZ,GAAgBC,WAAW,SAAUnS,EAAItH,SAClEsH,EAAI,GAAKiJ,MAAMC,QAAQlJ,EAAI,IAAMA,EAAI,GAAK,CAACA,EAAI,IACxCA,GAEXuS,MAAO,SAAUvS,EAAKzC,GAElB,OADAgN,GAAsB,IAAfvK,EAAItH,OAAcwZ,GAAgBC,WAAW,QAASnS,EAAItH,SAC1DsH,EAAI,IAEfwS,KAAM,SAAUxS,EAAKzC,GAEjB,OADAgN,GAAsB,IAAfvK,EAAItH,OAAcwZ,GAAgBC,WAAW,OAAQnS,EAAItH,SACzDsH,EAAI,IAEfyS,KAAM,SAAUlV,EAAGmV,GAEf,OADAnI,GAAsC,IAA/B5R,OAAOoI,KAAK2R,GAAQha,QAAgBga,EAAOC,WAAY,kDACvD,IAIXC,GAAa,SAAUtY,GAAQ,MAAO,4BAA8BA,EAAO,KAC3EuY,GAA+B,CAC/BC,KAAMF,GAAW,QAAU,mFAE3BG,GAAuB,CACvBC,aAAcJ,GAAW,gBACzBK,eAAgBL,GAAW,kBAC3BM,iBAAkBN,GAAW,oBAAsB,0DAGvD,SAASO,GAAiBC,GAoBtB,OAnBInK,MAAMC,QAAQkK,KACdA,EAAYA,EAAUhT,KAAI,SAAUiT,GAehC,MAdwB,kBAAbA,IACPA,EAAWzQ,KAAKC,MAAMwQ,GAAU,SAAUhY,EAAKN,GAC3C,MAAY,KAARM,IAGA,mEAAmEsD,KAAK5D,GACxEA,EAAQ,IAAI+K,KAAK/K,GAEK,WAAjB,eAAOA,IAAoD,IAA9BpC,OAAOoI,KAAKhG,GAAOrC,QAAgBqC,EAAMuY,OAC3EvY,EAAQA,EAAMuY,OANPvY,MAWZsY,MAGRD,EAGX,SAASG,GAAqBb,EAAQc,EAASC,GAC3C,IAAIC,EAAa,IAAIC,MAAMjB,EAAQc,GAEnC,OADA7a,OAAOib,eAAelX,QAAQ9D,UAAW8a,GAClC,IAAIhX,QAAQ+W,GAEvB,SAASI,GAAsBC,EAAgBtS,GAC3C,IAAIuS,EAAc,CAAEpB,WAAYmB,GAC5BE,EAA2BT,GAAqBQ,EAAa,CAC7DpZ,IAAK,SAAU+X,EAAQrX,GACnB,IAAI4Y,EAAkBpB,GAA6BxX,GAEnD,OADAkP,GAAkC,kBAApB0J,EAA8BA,GACrC,WAEH,IADA,IAAI3R,EAAO,GACFC,EAAK,EAAGA,EAAKtG,UAAUvD,OAAQ6J,IACpCD,EAAKC,GAAMtG,UAAUsG,GAEzB,IAAI2R,EAAY7B,GAAehX,IAAS,SAAU2E,EAAKzC,GAAK,OAAOyC,GAEnE,OADA0S,EAAOrX,GAAO6Y,EAAU5R,EAAMoQ,GACvBsB,MAGhB,SAAUvX,EAASE,GAClBwX,YAAW,WAEHzN,EAAY,CACR9F,IAAK,+BACLmF,OAAQ,OACR7N,KAAM,CACFsJ,WAAYA,EACZD,SAAUtB,EAAWtF,IAAI,YACzByZ,IAAmB,eAAd7V,IAA6B,EAAI,EACtC8V,GAAIN,KAET9W,MAAK,SAAUiB,GACd,IAAIhG,EAAOgG,EAAGhG,KACI,MAAdA,EAAKkO,KAIT3J,EAAQ0W,GAAgBjb,EAAKA,OAHzByE,EAAO,IAAI0H,MAAMnM,EAAKmO,SAI3B,SAAUiO,GAAO,OAAO3X,EAAO2X,YAO9C,OAAON,EAEX,SAASO,GAAyB/S,GAC9B,OAAO,IAAImS,MAAM,GAAI,CACjBhZ,IAAK,SAAU4C,EAAGlC,GACd,IAAI4Y,EAAkBlB,GAAqB1X,GAC3C,GAA+B,kBAApB4Y,EACP,MAAM,IAAI5P,MAAM4P,GAEpB,OAAOJ,GAAsBxY,EAAKmG,MAK9C,IAAIX,GAAS8B,EAAe/G,OAAO6C,SAAS+V,QACxCtQ,GAAYF,EAAepI,OAAO6C,SAASwF,UAC/ChE,EAAWC,IAAInE,EAASA,EAAS,GAAI8E,IAASqD,KAC9C,IAAIuQ,GAAalW,IACjB,IAAK2F,GAAU1C,aAAe0C,GAAUzC,OACpC,MAAM,IAAI4C,MAAM,iDAEpB,IAAI7C,GAAa0C,GAAU1C,WAAYyP,GAAYzP,IAAc,GAAIoQ,GAAe,IAAIE,GAAkBb,GAAWS,IAAgBG,GAAiB,IAAIC,GAAkBb,GAAWU,IAAkB+C,GAAWH,GAAyBtD,IAC1N,SAAfwD,IACA9b,OAAOgc,iBAAiB/Y,OAAQ,CAC5BgW,aAAc,CAAE7W,MAAO6W,IACvBC,eAAgB,CAAE9W,MAAO8W,MAGjC,IAAIlE,GAAQ5R,EAASA,EAAS,CAAEwM,KAAMA,GAClCmM,SAAUA,IAAY3D,IAAK5I,GAEhBwF,Y,wGC5tCf,yBAAwrB,EAAG,G,oQCAvrB,EAAS,WAAa,IAAIiH,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,MAAwB,eAAhBD,EAAIK,SAA4BL,EAAIM,QAASH,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,sBAAsBJ,EAAG,mBACzLK,EAAkB,GCDlB,EAAS,WAAa,IAAIR,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIS,GAAG,IACnG,EAAkB,CAAC,WAAa,IAAIT,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,OAAO,CAACH,EAAIW,GAAG,kBAAkBR,EAAG,OAAO,CAACH,EAAIW,GAAG,aCYpM,KCb+W,I,wBCQ3WC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIZ,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,yBAAyBA,EAAG,oBAAoB,CAACI,MAAM,CAAC,YAAYP,EAAIa,YAAYvO,GAAG,CAAC,aAAa0N,EAAIc,iBAAiB,iBAAiBd,EAAIe,qBAAqBC,YAAYhB,EAAIiB,GAAG,CAAC,CAACxa,IAAI,UAAU8L,GAAG,SAAS2O,GAAI,MAAO,CAACf,EAAG,OAAO,CAACH,EAAIW,GAAG,QAAQX,EAAImB,GAAGD,cAAe,IACxX,EAAkB,GCmBtB,G,UAAA,CACE5d,KADF,WAEI,MAAO,CACL8d,QAAS,GACTP,WAAY,CAAC,CACXlW,GAAI,EACJ0W,MAAO,IACf,CACQ1W,GAAI,EACJ0W,MAAO,IACf,CACQ1W,GAAI,EACJ0W,MAAO,GACf,CACQ1W,GAAI,EACJ0W,MAAO,IACf,CACQ1W,GAAI,EACJ0W,MAAO,GACf,CACQ1W,GAAI,GACJ0W,MAAO,IACf,CACQ1W,GAAI,EACJ0W,MAAO,IACf,CACQ1W,GAAI,GACJ0W,MAAO,OAIbC,QAAS,CACPR,iBADJ,cACA,uBACM9L,QAAQC,IAAI,aAAcvP,EAAM2b,IAElCN,oBAJJ,cAIA,uBACM/L,QAAQC,IAAI,iBAAkBvP,EAAM2b,OCxDmU,ICOzW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCDf,G,UAAA,CACEE,WAAY,CACVC,QAAJ,EACIC,cAAJ,GAEEne,KALF,WAMI,MAAO,CACLgd,QAAN,MAAe,OAAf,0DAGEoB,SAAU,CACRrB,QADJ,WAEM,MAAO,iBC7B+U,ICQxV,G,UAAY,eACd,EACA,EACAG,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIR,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIS,GAAG,IACnG,EAAkB,CAAC,WAAa,IAAIT,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,cAAc,CAACJ,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,OAAO,CAACH,EAAIW,GAAG,aAAaR,EAAG,OAAO,CAACH,EAAIW,GAAG,sBCcrO,KCf8V,ICQ1V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,4DCPR,SAASvR,EAAeC,GAC7B,IAAMC,EAAY,CAChB3C,SAAU,GACVC,WAAY,GACZC,OAAQ,GACR8U,KAAM,IAERtS,EAAqC,MAA1BA,EAASpC,OAAO,EAAG,GAAaoC,EAASpC,OAAO,GAAKoC,EAChE,IAAIE,EAAcF,EAASJ,MAAM,KAC7BO,EAAiBD,EAAYzD,QAAQ,UACzC,GAAI0D,IAAmB,EACrB,MAAM,IAAIC,MAAJ,6CAOR,OALAH,EAAUqS,KAAOpS,EAAYC,EAAiB,IAAM,QACpDD,EAAcA,EAAYrI,MAAM,EAAGsI,GACnCF,EAAU3C,SAAW4C,EAAY,IAAM,GACvCD,EAAU1C,WAAa2C,EAAY,IAAM,GACzCD,EAAUzC,OAAS0C,EAAY,IAAM,GAC9BD,E,cCzBHsS,EAAa,2BAEnB,SAASC,EAAaC,GACpB,IAAIzb,EAAO,YAAY0D,KAAK/C,OAAO6C,SAASD,MAAQ,YAAc,OAClE,OAAOkY,EAAWzb,IAAS,GAGtB,IAAM0b,EAAmBF,EAAa,CAC3CG,UAAW,gBAAGL,EAAH,EAAGA,KAAH,iBAAkBA,EAAlB,QACXvX,KAAM,gBAAGuC,EAAH,EAAGA,SAAUgV,EAAb,EAAaA,KAAb,gBAA2BC,EAA3B,oBAAiDjV,EAAjD,mBAAoEgV,EAApE,eAA+EM,KAAKC,MAAsB,IAAhBD,KAAKE,cCdnG,EAAS,WAAa,IAAInC,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,yBAAyB,CAACP,EAAG,KAAK,CAACO,YAAY,SAAS,CAACV,EAAIW,GAAG,YAAYR,EAAG,MAAM,CAACO,YAAY,iBAAiBpO,GAAG,CAAC,OAAS0N,EAAIoC,yBAAyB,CAACjC,EAAG,MAAM,CAACO,YAAY,WAAW2B,MAAOrC,EAAkB,gBAAG,CAACG,EAAG,MAAM,CAACO,YAAY,yBAAyBV,EAAIsC,GAAItC,EAAQ,MAAE,SAASuC,GAAU,OAAOpC,EAAG,MAAM,CAAC1Z,IAAI8b,EAAS5X,GAAG6X,IAAI,WAAWC,UAAS,EAAK/B,YAAY,6BAA6B2B,MAAOrC,EAAa,WAAG,CAACG,EAAG,MAAM,CAACO,YAAY,qBAAqBpO,GAAG,CAAC,MAAQ,SAASoQ,GAAQ,OAAO1C,EAAI2C,aAAaJ,EAAS5X,OAAO,CAACwV,EAAG,MAAM,CAACO,YAAY,SAASH,MAAM,CAAC,IAAMgC,EAASK,YAAYzC,EAAG,MAAM,CAACO,YAAY,qDAAqDpO,GAAG,CAAC,MAAQ,SAASoQ,GAAQ,OAAO1C,EAAI6C,WAAWN,EAAS5X,OAAO,CAACwV,EAAG,MAAM,CAACO,YAAY,uBAAuB,CAACP,EAAG,OAAO,CAACO,YAAY,6BAA6B,CAACV,EAAIW,GAAGX,EAAImB,GAAGoB,EAASO,aAAa3C,EAAG,OAAO,CAACO,YAAY,+BAA+B,CAACV,EAAIW,GAAGX,EAAImB,GAAGoB,EAASQ,iBAAiB/C,EAAIS,GAAG,GAAE,UAAY,GAAIT,EAAe,YAAEG,EAAG,MAAM,CAACO,YAAY,iCAAiC,CAACP,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,UAAU,KAAO,GAAG,YAAY,GAAG,SAAW,KAAK,CAACP,EAAIW,GAAG,KAAKR,EAAG,MAAMH,EAAIW,GAAG,KAAKR,EAAG,MAAMH,EAAIW,GAAG,QAAQ,GAAGX,EAAIgD,YAC9zC,EAAkB,CAAC,WAAa,IAAIhD,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,wBAAwB,CAACP,EAAG,OAAO,CAACO,YAAY,2B,8FCsChL,iB,EAAA,c,EAAA,OACA,GACEuC,MAAO,CACLC,IAAK,CACHzM,KAAM0M,OACNC,QAAS,EACTC,UAAW,SAAjB,wBAGE9B,WAAY,OAAd,OAAc,CAAd,GACA,cAEEje,KAXF,WAYI,MAAO,CACLggB,UAAuC,IAA5BxQ,SAASvK,KAAKgb,YACzBC,WAAY,GACZ7B,KAAM,EACN8B,SAAS,EACTC,SAAS,EA2BTC,KAAM,KAGVjC,SAAU,CACRkC,eADJ,WAEM,IAAN,uCACA,sCACA,wBACM,MAAO,CAELC,MAAOC,GAAUxc,KAAKgc,UAAY,IAAMS,EAAe,KACvDC,OAAQd,GAAO5b,KAAKkc,WAAa,IAAM,OAG3CS,UAXJ,WAYM,MAAO,CACLJ,MAAOvc,KAAKgc,UAAY,KACxBU,OAAQ1c,KAAKkc,WAAa,OAG9BU,YAjBJ,WAkBM,OAAO5c,KAAKoc,SAAWpc,KAAKmc,UAGhCnC,QAAS,CACPqB,aADJ,SACA,GACM,EAAN,gDAEIE,WAJJ,SAIA,GACM,EAAN,oBAEI,YAPJ,WAOA,0KACA,qBADA,wBAEA,aACA,iBAHA,SAIA,0DACA,QACA,aACA,eACA,cARA,gBAIA,EAJA,EAIA,KAOA,aACA,SACA,eACA,0CACA,aACA,cAhBA,+CAoBIT,uBA3BJ,YA2BA,eACUtE,EAAOqG,YAAcrG,EAAOsG,WAAa,IAAMtG,EAAOyF,aAAejc,KAAKmc,UAAYnc,KAAKoc,SAC7Fpc,KAAK+c,gBAIX,QArGF,WAqGA,wKACA,gBADA,OAEA,wBACA,uBACA,aACA,6BACA,mCANA,+CC7I6X,ICQzX,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIrE,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAW,QAAEG,EAAG,MAAM,CAACO,YAAY,yCAAyC,CAACP,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,SAAS,CAACP,EAAIW,GAAG,aAAa,GAAGR,EAAG,MAAM,CAACO,YAAY,eAAeV,EAAIsC,GAAItC,EAAe,aAAE,SAAS3F,GAAY,OAAO8F,EAAG,MAAM,CAAC1Z,IAAI4T,EAAW1P,GAAG+V,YAAY,kBAAkB,CAAErG,EAAWwG,WAAWyD,WAAatE,EAAIuE,gBAAgBlK,EAAWwG,WAAWyD,WAAYnE,EAAG,iBAAiB,CAACI,MAAM,CAAC,WAAalG,EAAW,KAAO2F,EAAIuE,gBAAgBlK,EAAWwG,WAAWyD,WAAW,YAAcjK,EAAWgH,OAAO/O,GAAG,CAAC,YAAY,SAASoQ,GAAQ,OAAO1C,EAAIwE,gBAAgBnK,EAAY2F,EAAIuE,gBAAgBlK,EAAWwG,WAAWyD,aAAa,YAAY,SAAS5B,GAAQ,OAAO1C,EAAIyE,gBAAgBpK,EAAY2F,EAAIuE,gBAAgBlK,EAAWwG,WAAWyD,gBAAgBnE,EAAG,eAAe,CAACI,MAAM,CAAC,WAAalG,EAAW,YAAcA,EAAWgH,OAAO/O,GAAG,CAAC,YAAY,SAASoQ,GAAQ,OAAO1C,EAAIwE,gBAAgBnK,EAAY,KAAK,YAAY,SAASqI,GAAQ,OAAO1C,EAAIyE,gBAAgBpK,EAAY,SAAS,MAAK,IACxlC,EAAkB,GCDlB,G,8BAAS,WAAa,IAAI2F,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,YAAYpO,GAAG,CAAC,MAAQ0N,EAAIwE,kBAAkB,CAAExE,EAAI1c,KAAQ,IAAE6c,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAOP,EAAI1c,KAAKohB,IAAI,MAAQ1E,EAAI2E,cAAc,SAAW,GAAG,MAAQ,eAAe,GAAG3E,EAAIgD,KAAMhD,EAAI1c,KAAKshB,MAAM,GAAIzE,EAAG,MAAM,CAACO,YAAY,WAAWH,MAAM,CAAC,IAAMP,EAAI1c,KAAKshB,MAAM,MAAMzE,EAAG,MAAM,CAACO,YAAY,aAAaP,EAAG,MAAM,CAACO,YAAY,aAAa,CAACP,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,MAAM,CAACO,YAAY,kBAAkB,CAACP,EAAG,OAAO,CAACO,YAAY,aAAa,CAACV,EAAIW,GAAGX,EAAImB,GAAGnB,EAAI1c,KAAKoC,WAAYsa,EAAI1c,KAAa,SAAE6c,EAAG,OAAO,CAACO,YAAY,YAAY,CAACV,EAAIW,GAAGX,EAAImB,GAAGnB,EAAI1c,KAAKuhB,aAAa7E,EAAIgD,OAAO7C,EAAG,MAAM,CAACO,YAAY,oDAAoD,CAACP,EAAG,MAAM,CAACO,YAAY,kBAAkB,CAAEV,EAAI8E,YAAc,EAAG3E,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,aAAa,CAACI,MAAM,CAAC,OAASP,EAAI8E,YAAY,KAAO,WAAW3E,EAAG,aAAa,CAACI,MAAM,CAAC,OAASP,EAAI1c,KAAK+d,MAAM,SAAWrB,EAAI+E,cAAc,KAAO,YAAY,GAAG/E,EAAIgD,KAAMhD,EAAiB,cAAEG,EAAG,MAAM,CAACO,YAAY,YAAY,CAACP,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,UAAU,KAAOP,EAAIgF,UAAY,MAAOhF,EAAI1c,KAAgB,YAAE6c,EAAG,OAAO,CAACO,YAAY,gBAAgB,CAACV,EAAIW,GAAG,MAAMX,EAAImB,GAAGnB,EAAI1c,KAAK2hB,aAAa,OAAOjF,EAAIgD,MAAM,GAAGhD,EAAIgD,OAAO7C,EAAG,MAAM,CAACO,YAAY,2BAA2B,CAACP,EAAG,SAAS,CAAC+E,MAAM,CAAE,eAAe,EAAM,eAAgBlF,EAAImF,gBAAkBnF,EAAIoF,mBAAoB7E,MAAM,CAAC,SAAWP,EAAImF,gBAAgB7S,GAAG,CAAC,MAAQ,SAASoQ,GAAiC,OAAzBA,EAAO2C,kBAAyBrF,EAAIsF,eAAe5C,MAAW,CAAC1C,EAAIW,GAAGX,EAAImB,GAAGnB,EAAItI,YAAcsI,EAAImF,eAA8KnF,EAAIgD,KAAlK7C,EAAG,eAAe,CAACO,YAAY,WAAWH,MAAM,CAAC,SAAWP,EAAIoF,kBAAkB,aAAc,KAAOpF,EAAIuF,YAAc,IAAK,WAAavF,EAAIuF,gBAAyB,WACzzD,EAAkB,GCDlB,G,8BAAS,WAAa,IAAIvF,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACO,YAAY,kBAAkB2B,MAAOrC,EAAa,WAAG,CAACA,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIwF,WAC/K,EAAkB,GCStB,IACEvC,MAAO,CACLuC,KAAM,CACJ/O,KAAM+D,OACNiL,UAAU,GAEZC,MAAO,CACLjP,KAAM+D,OACN4I,QAAS,YAGb9f,KAXF,WAYI,MAAO,CACLqiB,UAAW,iBAAjB,qDCvBsY,MCQlY,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI3F,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,cAAc,CAAEV,EAAU,OAAEG,EAAG,OAAO,CAAC+E,MAAMlF,EAAI4F,WAAW,CAAC5F,EAAIW,GAAG,OAAOX,EAAIgD,KAAK7C,EAAG,OAAO,CAAC+E,MAAMlF,EAAI6F,cAAc,CAAC7F,EAAIW,GAAG,OAAOR,EAAG,OAAO,CAAC+E,MAAMlF,EAAI8F,WAAW,CAAC9F,EAAIW,GAAGX,EAAImB,GAAGnB,EAAI+F,qBAC3S,GAAkB,GCatB,I,UAAA,CACE,MAAF,CACI,OAAJ,CACM,KAAN,OACM,UAAN,GAEI,SAAJ,CACM,KAAN,QACM,SAAN,GAEI,OAAJ,CACM,KAAN,QACM,SAAN,GAEI,KAAJ,CACM,UAAN,YAAQ,MAAR,2BACM,QAAN,YAGE,KAnBF,WAoBI,MAAJ,IAIE,SAAF,CACI,aADJ,WAEM,IAAN,KACM,OAAN,WACQ,IAAR,UACU,EAAV,2BACU,MACF,IAAR,QACU,EAAV,yBACU,MAIJ,OAAN,0DAEI,UAfJ,WAgBM,IAAN,KACM,OAAN,WACQ,IAAR,UACU,EAAV,uBACU,MACF,IAAR,QACU,EAAV,qBACU,MAIJ,OAAN,0DAEI,UA7BJ,WA8BM,MAAN,gDAII,cAlCJ,WAmCM,OAAN,2BCzEiY,MCQ7X,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI/F,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC+E,MAAMlF,EAAIgG,QAAQ3D,MAAOrC,EAAa,WAAG,CAACG,EAAG,OAAO,CAACO,YAAY,aAAa2B,MAAOrC,EAAa,WAAG,CAACA,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIwF,YAC9N,GAAkB,GCMtB,IASEvC,MAAO,CACLuC,KAAM,CACJ/O,KAAM,CAAC+D,OAAQ2I,QACfsC,UAAU,GAEZQ,SAAU,CACRxP,KAAMyP,QACN9C,SAAS,GAEXsC,MAAO,CACLjP,KAAM,CAAC+D,OAAQnG,OACf+O,QAAS,WAEX+C,MAAO,CACL1P,KAAM+D,OACN4I,QAAS,WAEXgD,WAAY,CACV3P,KAAMyP,QACN9C,SAAS,IAGb1B,SAAU,CACRsE,QADJ,WAEM,IAAN,iBAWM,OAVI1e,KAAK8e,YACPC,EAAIjiB,KAAK,iBAGQ,aAAfkD,KAAK6e,MACPE,EAAIjiB,KAAK,kBAGTiiB,EAAIjiB,KAAK,iBAEJiiB,EAAIC,OAAOhf,KAAK2e,SAAW,GAAK,CAAC,sBAAsBxZ,KAAK,MAErE8Z,UAfJ,WAgBM,IACN,qDACA,kDACA,KASM,OARIjf,KAAK2e,SACPO,EAASC,WAAaC,GAGtBF,EAASC,WAAaE,EACtBH,EAASI,YAAcF,GAGlBF,GAETK,UA9BJ,WA+BM,IACN,qDACA,kDACM,MAAO,CACLnB,MAAOpe,KAAK2e,SAAWU,EAASD,MCzEoV,MCQxX,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,gCC+Bf,I,UAAA,CACEnF,WAAY,OAAd,OAAc,CAAd,CACIuF,eAAJ,GACIC,UAAJ,GACIC,MAAJ,IACA,gBAEE/D,MAAO,CACL3f,KAAM,CACJmT,KAAM1S,OACN0hB,UAAU,GAEZ5E,WAAY,CACVpK,KAAM1S,OACN0hB,UAAU,GAEZX,YAAa,CACXrO,KAAM0M,OACNC,QAAS,IAGb1B,SAAU,CACRqD,cADJ,WAEM,OAAOzd,KAAKwd,YAAc,GAAKxd,KAAKhE,KAAK+d,MAAQ/Z,KAAKwd,aAExDE,SAJJ,WAKM,OAAO1d,KAAKyd,eAAiB,KAAnC,mDAEIJ,cAPJ,WAQM,IAAN,GACQ,KAAM,CAAC,UAAW,WAClB,OAAQ,CAAC,UAAW,YAGtB,OAAOsC,EAAS3f,KAAKhE,KAAKohB,MAAQ,WAEpCS,eAfJ,WAgBM,MAA6C,MAAtC7d,KAAKuZ,WAAWtP,OAAOhF,YAEhC6Y,kBAlBJ,WAmBM,OAAO9d,KAAKie,aAAe,GAE7B7N,QArBJ,WAsBM,OAAIpQ,KAAK6d,eACA,MAEL7d,KAAKie,aAAe,EACf,MAEFje,KAAKwd,YAAc,EAAI,KAAO,MAEvCS,YA9BJ,WA8BA,MACA,kBADA,EACA,cADA,EACA,eACA,cAEM,OADAvQ,QAAQC,IAAIiS,EAAaC,GAClBlF,KAAKC,MAAMqD,KAGtBjE,QAAS,CACPkD,gBADJ,WAEMld,KAAK8f,MAAM,cAEb9B,eAJJ,WAKMhe,KAAK8f,MAAM,iBCjHoX,MCQjY,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIpH,EAAI1Y,KAAS2Y,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,YAAY,YAAYpO,GAAG,CAAC,MAAQ0N,EAAIwE,kBAAkB,CAACrE,EAAG,MAAM,CAACO,YAAY,yCAAyC,CAACP,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACV,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIa,WAAWnb,SAAUsa,EAAIa,WAAoB,UAAEV,EAAG,OAAO,CAACO,YAAY,YAAY,CAACV,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIa,WAAWwG,cAAcrH,EAAIgD,OAAQhD,EAAIa,WAAWyG,iBAAiBxjB,OAAS,EAAGqc,EAAG,MAAM,CAACO,YAAY,aAAa,CAACV,EAAIW,GAAGX,EAAImB,GAAGnB,EAAIa,WAAWyG,iBAAiB7a,KAAK,WAAWuT,EAAIgD,KAAK7C,EAAG,MAAM,CAACO,YAAY,wCAAwC,CAACP,EAAG,MAAM,CAAEH,EAAI8E,YAAc,EAAG3E,EAAG,aAAa,CAACI,MAAM,CAAC,OAASP,EAAI8E,YAAY,KAAO,WAAW9E,EAAIgD,MAAM,GAAG7C,EAAG,MAAM,CAACO,YAAY,eAAe,CAACP,EAAG,SAAS,CAAC+E,MAAM,CAAE,eAAe,EAAM,eAAgBlF,EAAImF,gBAAkBnF,EAAIoF,mBAAoB7E,MAAM,CAAC,SAAWP,EAAImF,gBAAkBnF,EAAIoF,mBAAmB9S,GAAG,CAAC,MAAQ,SAASoQ,GAAiC,OAAzBA,EAAO2C,kBAAyBrF,EAAIsF,eAAe5C,MAAW,CAAC1C,EAAIW,GAAGX,EAAImB,GAAGnB,EAAItI,YAAcsI,EAAImF,eAA8KnF,EAAIgD,KAAlK7C,EAAG,eAAe,CAACO,YAAY,WAAWH,MAAM,CAAC,SAAWP,EAAIoF,kBAAkB,aAAc,KAAOpF,EAAIuF,YAAc,IAAK,WAAavF,EAAIuF,gBAAyB,QACxuC,GAAkB,GCqCtB,IACEtC,MAAO,CACLpC,WAAY,CACVpK,KAAM1S,OACN0hB,UAAU,GAEZX,YAAa,CACXrO,KAAM0M,OACNC,QAAS,IAGb7B,WAAY,OAAd,OAAc,CAAd,CACIuF,eAAJ,GACIC,UAAJ,IACA,gBAEErF,SAAU,CACRyD,eADJ,WAEM,MAA6C,MAAtC7d,KAAKuZ,WAAWtP,OAAOhF,YAEhC6Y,kBAJJ,WAKM,OAAN,qBAEI1N,QAPJ,WAQM,OAAIpQ,KAAK6d,eACA,MAEL7d,KAAKie,aAAe,EACf,MAEFje,KAAKwd,YAAc,EAAI,KAAO,MAEvCS,YAhBJ,WAgBA,MACA,kBADA,EACA,cADA,EACA,eACA,cACM,OAAOtD,KAAKC,MAAMqD,KAGtBjE,QAAS,CACPkD,gBADJ,WAEMld,KAAK8f,MAAM,cAEb9B,eAJJ,WAKMhe,KAAK8f,MAAM,gBCjFkX,MCQ/X,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCqBf,IACEnE,MAAO,CACLsE,SAAU,CACR9Q,KAAMpC,MACNoR,UAAU,GAEZ+B,sBAAuB,CACrB/Q,KAAMyP,QACN9C,SAAS,IAGb7B,WAAY,OAAd,OAAc,CAAd,CACIkG,aAAJ,GACIC,YAAJ,IACA,cAEEpkB,KAhBF,WAiBI,MAAO,CACLogB,SAAS,EACT/B,KAAM,EACNuB,IAAK,GACLyE,YAAa,GACbpD,gBAAiB,KAGrBqD,MAAO,CACLL,SADJ,SACA,GACMjgB,KAAKqa,KAAO,EACZra,KAAKqgB,YAAc,GACnBrgB,KAAKugB,sBAGTC,QAhCF,WAiCIxgB,KAAKugB,qBAEPnG,SAAU,CACRqG,cADJ,WAEM,IAAN,yBACA,qBACM,OAAOzgB,KAAKigB,SAASrgB,MAAM8gB,EAAOC,KAGtC3G,QAAS,CACP,kBADJ,WACA,uKACA,0BADA,iCAEA,8EAFA,cAEA,EAFA,OAGA,kFACA,6GACA,SAGA,0GARA,UASA,sBATA,QASA,kBATA,OAUA,iGAVA,+CAaIkD,gBAdJ,SAcA,KACMld,KAAK8f,MAAM,aAAc/M,EAAY6N,IAEvCzD,gBAjBJ,SAiBA,KACMnd,KAAK8f,MAAM,iBAAkB/M,EAAY6N,MCpG6U,MCQxX,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCPflhB,OAAOmhB,GAAKA,O,OACIA,OAAGxU,OAAXG,G,GAAAA,IACRA,GAAI/C,OAAOqX,eAAgB,EAG3BrkB,OAAOoI,KAAKkc,GAAiBjc,SAAQ,SAAA1G,GACnCoO,GAAI8M,UAAUlb,EAAM2iB,EAAgB3iB,OAGtC,IAAIoO,GAAI,CACNuB,OAAQ,SAAAC,GAAC,OAAIA,EAAEgT,MACd/S,OAAO,qBAKR,IAAIjG,GAAYF,EAAepI,OAAO6C,SAASwF,UAC3CkZ,GAAazV,SAAS0V,cAAc,UACxCD,GAAWE,aAAa,OAAQ,mBAChCF,GAAWE,aAAa,MAAO1G,EAAiBzS,KAChDiZ,GAAWpW,iBAAiB,SAAS,WACnC,IAAI2B,GAAI,CACNuB,OAAQ,SAAAC,GAAC,OAAIA,EAAE7F,MACd8F,OAAO,wBAEZzC,SAAS4V,KAAKC,YAAYJ,K,oCCrC5B,yBAA6rB,EAAG,G,oCCAhsB,yBAAymB,EAAG,G,oCCA5mB,yBAAmrB,EAAG,G,sFCAtrB,yBAA4rB,EAAG,G,sFCA/rB,yBAA2qB,EAAG,G,kCCA9qB,yBAAmrB,EAAG,G,gFCAtrB,yBAA0rB,EAAG,G,qBCC7rBljB,EAAOD,QAAU,CAAC,UAAY,UAAU,iBAAmB,UAAU,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,kBAAoB,UAAU,YAAc,UAAU,cAAgB,UAAU,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,SAAW,OAAO,kBAAoB,OAAO,cAAgB,OAAO,YAAc,S,qBCAvYC,EAAOD,QAAU,CAAC,UAAY,UAAU,iBAAmB,UAAU,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,kBAAoB,UAAU,YAAc,UAAU,cAAgB,UAAU,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,WAAa,OAAO,SAAW,OAAO,kBAAoB,OAAO,cAAgB,OAAO,YAAc,S,kCCDvY,yBAA6pB,EAAG,G,kCCAhqB,yBAA2mB,EAAG","file":"js/app.586b4683.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/*!\n  * view-program-lib 0.2.8 (https://github.com/JOU amjs/view-program-lib)\n  * API https://github.com/JOU amjs/view-program-lib/blob/master/doc/api.md\n  * Copyright 2017-2020 JOU amjs. All Rights Reserved\n  * Licensed under MIT (https://github.com/JOU amjs/view-program-lib/blob/master/LICENSE)\n  */\n\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport { Md5 } from 'ts-md5';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar MP_WEIXIN = 'mpWx';\r\nvar MP_ALIPAY = 'mpAlipay';\r\nvar BROWSER = 'browser';\r\nvar NODE = 'node';\n\nfunction getMode() {\r\n    var href = '';\r\n    try {\r\n        href = window.location.href;\r\n    }\r\n    catch (error) {\r\n        href = '';\r\n    }\r\n    if (/devMode=1/.test(href)) {\r\n        return 'plugin-dev';\r\n    }\r\n    else if (/devMode=2/.test(href)) {\r\n        return 'debug';\r\n    }\r\n    return 'prod';\r\n}\n\nvar _a;\r\nfunction environmentValue(envOption) {\r\n    var mode = getMode();\r\n    return envOption[mode] || '';\r\n}\r\nvar host = environmentValue({\r\n    'plugin-dev': 'http://localhost:18001',\r\n    prod: 'https://api.ycsh6.com',\r\n    debug: 'http://localhost:7001',\r\n});\r\nvar javaHost = environmentValue({\r\n    'plugin-dev': 'https://api.java.ycsh6.com',\r\n    prod: 'https://api.java.ycsh6.com',\r\n    debug: 'https://api.java.ycsh6.com',\r\n});\r\nvar apiSign = {\r\n    connectSymbol: '-',\r\n    key: 'sd8mow3RPMDS0PMPmMP98AS2RG43T',\r\n};\r\nvar tmplCodeMap = (_a = {},\r\n    _a[MP_WEIXIN] = {\r\n        activity: {\r\n            id: 'i5sdedogJeiICuz0dfX-FC2yBdRdkwwcxCg1okRmnys',\r\n            dataNames: ['name3', 'name2', 'thing1', 'thing4'],\r\n            errorText: 'notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据',\r\n        },\r\n        payResult: {\r\n            id: 'xxxxx',\r\n            dataNames: ['name1'],\r\n            errorText: 'notifyData中必须包含名称数据',\r\n        },\r\n    },\r\n    _a[MP_ALIPAY] = {\r\n        activity: {\r\n            id: '',\r\n            dataNames: [],\r\n            errorText: 'notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据',\r\n        },\r\n        payResult: {\r\n            id: '',\r\n            dataNames: [],\r\n            errorText: 'notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据',\r\n        },\r\n    },\r\n    _a);\r\nvar viewProgramPath = '/pages/webview-container/webview-container';\n\nvar gl;\r\ntry {\r\n    gl = window;\r\n}\r\ncatch (error) {\r\n    gl = global;\r\n}\r\nvar wx = gl.wx;\r\ndelete gl.wx;\r\ndelete gl.jWeixin;\n\nvar data = {};\r\nfunction setItem(key, val) {\r\n    if (val) {\r\n        data[key] = val;\r\n    }\r\n    else {\r\n        delete data[key];\r\n    }\r\n}\r\nvar globalData = {\r\n    set: function (keyOrObject, val) {\r\n        var _a;\r\n        var map = typeof keyOrObject === 'object' ? keyOrObject : (_a = {}, _a[keyOrObject] = val, _a);\r\n        for (var key in map) {\r\n            setItem(key, map[key]);\r\n        }\r\n    },\r\n    get: function (key) {\r\n        var typeOfKey = typeof key;\r\n        if (typeOfKey === 'string' || typeOfKey === 'number') {\r\n            return data[key];\r\n        }\r\n    }\r\n};\n\nfunction getPlatform() {\r\n    var userAgent = '';\r\n    try {\r\n        userAgent = window.navigator.userAgent.toLowerCase();\r\n    }\r\n    catch (error) {\r\n        userAgent = 'nodejs';\r\n    }\r\n    if (userAgent.indexOf('miniprogram') !== -1) {\r\n        return MP_WEIXIN;\r\n    }\r\n    else if (userAgent.indexOf('alipay miniprogram') !== -1) {\r\n        return MP_ALIPAY;\r\n    }\r\n    else if (userAgent.indexOf('node') !== -1) {\r\n        return NODE;\r\n    }\r\n    return BROWSER;\r\n}\r\nfunction buildPath(url, params, restfulParams) {\r\n    if (params === void 0) { params = {}; }\r\n    if (restfulParams === void 0) { restfulParams = {}; }\r\n    Object.keys(restfulParams).forEach(function (paramName) {\r\n        url = url.replace(\"{\" + paramName + \"}\", restfulParams[paramName].toString());\r\n    });\r\n    var argStr = Object.keys(params)\r\n        .map(function (key) { return key + \"=\" + params[key]; })\r\n        .join('&');\r\n    if (argStr) {\r\n        argStr = (url.indexOf('?') >= 0 ? '&' : '?') + argStr;\r\n    }\r\n    return url + argStr;\r\n}\r\nfunction buildViewProgramUrl(pluginId, activityId, shopId, webPagePath, routePath, query) {\r\n    if (routePath === void 0) { routePath = ''; }\r\n    if (query === void 0) { query = {}; }\r\n    webPagePath = webPagePath.substr(0, 1) === '/' ? webPagePath.substr(1) : webPagePath;\r\n    webPagePath = webPagePath ?\r\n        webPagePath.substr(-1) === '/' ? webPagePath : (webPagePath + '/')\r\n        : webPagePath;\r\n    var routeQuery = buildUrlParams(query);\r\n    return buildPath('/{pluginId}/{activityId}/{shopId}/online/{webPagePath}', { accessToken: globalData.get('accessToken') || '' }, {\r\n        pluginId: pluginId,\r\n        activityId: activityId,\r\n        shopId: shopId,\r\n        webPagePath: webPagePath,\r\n    }) + (\"#/\" + (routePath + routeQuery));\r\n}\r\nfunction navigateTo(url, params) {\r\n    if (params === void 0) { params = {}; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var environment;\r\n        return __generator(this, function (_a) {\r\n            environment = getPlatform();\r\n            return [2, new Promise(function (resolve, reject) {\r\n                    var urlBuilded = buildPath(url, params);\r\n                    if (environment === MP_WEIXIN) {\r\n                        wx.miniProgram.navigateTo({\r\n                            url: urlBuilded,\r\n                            success: function () {\r\n                                var args = [];\r\n                                for (var _i = 0; _i < arguments.length; _i++) {\r\n                                    args[_i] = arguments[_i];\r\n                                }\r\n                                return resolve(args);\r\n                            },\r\n                            fail: function (reason) { return reject(reason); },\r\n                        });\r\n                    }\r\n                    else if (environment === MP_ALIPAY) ;\r\n                    else if (environment === BROWSER) {\r\n                        if (!/^https?/.test(url)) {\r\n                            var params_1 = parseUrlParams(url);\r\n                            params_1.query = JSON.parse(decodeURIComponent(params_1.query || '') || '{}');\r\n                            url = buildViewProgramUrl(params_1.pluginId, params_1.activityId, params_1.shopId, params_1.path, params_1.routePath, params_1.query);\r\n                        }\r\n                        location.href = url;\r\n                    }\r\n                })];\r\n        });\r\n    });\r\n}\r\nfunction navigateBack(delta) {\r\n    if (delta === void 0) { delta = 1; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var environment;\r\n        return __generator(this, function (_a) {\r\n            environment = getPlatform();\r\n            return [2, new Promise(function (resolve, reject) {\r\n                    if (environment === MP_WEIXIN) {\r\n                        wx.miniProgram.navigateBack({\r\n                            delta: delta,\r\n                            success: function () {\r\n                                var args = [];\r\n                                for (var _i = 0; _i < arguments.length; _i++) {\r\n                                    args[_i] = arguments[_i];\r\n                                }\r\n                                return resolve(args);\r\n                            },\r\n                            fail: function (reason) { return reject(reason); },\r\n                        });\r\n                    }\r\n                })];\r\n        });\r\n    });\r\n}\r\nfunction createApiSign(params) {\r\n    if (params === void 0) { params = {}; }\r\n    var rawStr = Object.keys(params).sort()\r\n        .map(function (key) { return params[key] !== undefined ? key + \"=\" + params[key] : undefined; })\r\n        .filter(function (item) { return item; })\r\n        .join(apiSign.connectSymbol) + apiSign.key;\r\n    return Md5.hashStr(rawStr);\r\n}\r\nfunction buildUrlParams(params, needQuestionMark) {\r\n    if (params === void 0) { params = {}; }\r\n    if (needQuestionMark === void 0) { needQuestionMark = true; }\r\n    var paramStr = Object.keys(params)\r\n        .map(function (key) { return key + \"=\" + params[key]; })\r\n        .join('&');\r\n    if (needQuestionMark) {\r\n        paramStr = (paramStr ? '?' : '') + paramStr;\r\n    }\r\n    return paramStr;\r\n}\r\nfunction parseUrlParams(url) {\r\n    var params = {};\r\n    (url.match(/\\?(.*)$/) || ['', ''])[1]\r\n        .split('&').forEach(function (param) {\r\n        var keyVal = param.split('=');\r\n        if (keyVal.length === 2) {\r\n            params[keyVal[0]] = keyVal[1];\r\n        }\r\n    });\r\n    return params;\r\n}\r\nfunction parseKeyParams(pathname) {\r\n    if (pathname === void 0) { pathname = ''; }\r\n    var keyParams = {\r\n        pluginId: '',\r\n        activityId: '',\r\n        shopId: '',\r\n    };\r\n    pathname = pathname.substr(0, 1) === '/' ? pathname.substr(1) : pathname;\r\n    var pathDataAry = pathname.split('/');\r\n    var onlineStrIndex = pathDataAry.indexOf('online');\r\n    if (onlineStrIndex <= -1) {\r\n        throw new Error(\"current url is not a online program's url\");\r\n    }\r\n    pathDataAry = pathDataAry.slice(0, onlineStrIndex);\r\n    keyParams.pluginId = pathDataAry[0] || '';\r\n    keyParams.activityId = pathDataAry[1] || '';\r\n    keyParams.shopId = pathDataAry[2] || '';\r\n    return keyParams;\r\n}\r\nfunction getInteractKey(isEcho) {\r\n    if (isEcho === void 0) { isEcho = true; }\r\n    return (globalData.get('activityId') || '') + (globalData.get('token') || '') + (isEcho ? '-echo' : '');\r\n}\r\nfunction getMPPath(path, routePath, query, hasBasePath) {\r\n    if (hasBasePath === void 0) { hasBasePath = true; }\r\n    var fillParams = {};\r\n    if (routePath) {\r\n        fillParams.routePath = routePath;\r\n    }\r\n    if (query) {\r\n        fillParams.query = encodeURIComponent(JSON.stringify(query));\r\n    }\r\n    return buildPath(hasBasePath ? viewProgramPath : '', __assign({ activityId: globalData.get('activityId') || '', pluginId: globalData.get('pluginId') || '', shopId: globalData.get('shopId') || '', path: path }, fillParams));\r\n}\r\nfunction formatTime(time) {\r\n    var fillZero = function (num) { return num >= 0 && num < 10 ? ('0' + num) : num.toString(); };\r\n    return time.getFullYear() + \"-\" + fillZero(time.getMonth() + 1) + \"-\" + fillZero(time.getDate()) + \" \" + fillZero(time.getHours()) + \":\" + fillZero(time.getMinutes()) + \":\" + fillZero(time.getSeconds());\r\n}\n\nfunction interceptor (request) {\r\n    request.interceptors.request.use(function (config) {\r\n        var platform = getPlatform(), accessToken = globalData.get('accessToken') || '', timestamp = Date.parse(new Date().toString()) / 1000;\r\n        var method = config.method || 'get', args;\r\n        if (/^put|post|patch|delete$/i.test(method)) {\r\n            args = config.data = config.data || {};\r\n        }\r\n        else {\r\n            args = config.params = config.params || {};\r\n        }\r\n        Object.assign(args, { platform: platform, timestamp: timestamp });\r\n        args.sign = createApiSign(args);\r\n        config.headers = __assign(__assign({}, (config.headers || {})), { 'Content-Type': 'application/json;charset=UTF-8' });\r\n        if (accessToken) {\r\n            config.headers[method.toLowerCase() || 'get']['x-access-token'] = accessToken;\r\n        }\r\n        return config;\r\n    }, function (error) {\r\n        Promise.reject(error);\r\n    });\r\n    request.interceptors.response.use(function (response) {\r\n        if (response.status === 200) {\r\n            if (response.data.code === 200) {\r\n                return response;\r\n            }\r\n            else {\r\n                if (process.env.NODE_ENV === 'development') {\r\n                    console.log('数据返回了非200状态 ==> ', response.data);\r\n                }\r\n                return Promise.reject(new Error(response.data.msg));\r\n            }\r\n        }\r\n        else {\r\n            return Promise.reject(response);\r\n        }\r\n    }, function (error) {\r\n        return Promise.reject(error.response);\r\n    });\r\n}\n\nvar request = axios.create({\r\n    baseURL: host,\r\n    timeout: 30000,\r\n});\r\ninterceptor(request);\r\nvar javaRequest = axios.create({\r\n    baseURL: javaHost,\r\n    timeout: 30000,\r\n});\r\ninterceptor(javaRequest);\n\nvar receiver;\r\nvar fnCollection = {};\r\nvar message = {\r\n    init: function (originReceive) {\r\n        if (!originReceive) {\r\n            return;\r\n        }\r\n        receiver = originReceive;\r\n        window.addEventListener('message', function (event) {\r\n            var data = event.data;\r\n            var emitFn = fnCollection[data.name];\r\n            if (emitFn) {\r\n                emitFn.apply(null, data.args);\r\n            }\r\n        });\r\n    },\r\n    on: function (name, fn) {\r\n        if (typeof fn === 'function' && typeof name === 'string') {\r\n            fnCollection[name] = fn;\r\n        }\r\n    },\r\n    emit: function (name) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (receiver) {\r\n            receiver.postMessage({ name: name, args: args }, '*');\r\n        }\r\n    },\r\n};\n\nfunction mpNavigateTo(_a) {\r\n    var path = _a.path, routePath = _a.routePath, query = _a.query;\r\n    return navigateTo(getMPPath(path, routePath, query));\r\n}\r\nfunction mpNavigateBack(delta) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, navigateBack(delta)];\r\n        });\r\n    });\r\n}\r\nfunction setTitle(title) {\r\n    if (!title) {\r\n        return;\r\n    }\r\n    document.title = title;\r\n    if (getMode() === 'plugin-dev') {\r\n        message.emit('titleChanged', title);\r\n    }\r\n}\r\nfunction updateShareMessage(shareOptions) {\r\n    var matches = (location.hash.match(/^(.*?)(\\?.*)?$/) || ['', '', '']);\r\n    var params = parseUrlParams(matches[2]);\r\n    params.shareMessage = encodeURIComponent(JSON.stringify(shareOptions));\r\n    var newHash = buildPath(matches[1], params);\r\n    window.history.replaceState(null, '', newHash);\r\n}\n\nvar mp = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    mpNavigateTo: mpNavigateTo,\n    mpNavigateBack: mpNavigateBack,\n    setTitle: setTitle,\n    updateShareMessage: updateShareMessage\n});\n\nvar routerHookNames = ['beforeEach', 'beforeResolve', 'afterEach'];\r\nfunction Page(options, globalConfig) {\r\n    if (options === void 0) { options = {}; }\r\n    if (globalConfig === void 0) { globalConfig = { title: '' }; }\r\n    if (Object.keys(options).length <= 0) {\r\n        return {\r\n            Vue: Vue,\r\n            VueRouter: VueRouter,\r\n            Vuex: Vuex,\r\n            request: request,\r\n            javaRequest: javaRequest,\r\n            config: {\r\n                shopId: globalData.get('shopId') || '',\r\n                activityId: globalData.get('activityId') || '',\r\n                pluginId: globalData.get('pluginId') || '',\r\n            }\r\n        };\r\n    }\r\n    var router = undefined, routers = globalConfig.routers, stores = globalConfig.stores, plugins = globalConfig.plugins, shareMessage = globalConfig.shareMessage, title = globalConfig.title;\r\n    if (typeof routers === 'object' && Array.isArray(routers.routes) && routers.routes.length > 0) {\r\n        Vue.use(VueRouter);\r\n        router = new VueRouter(routers);\r\n        routerHookNames.forEach(function (hookName) {\r\n            if (routers && router && typeof routers[hookName] === 'function') {\r\n                router[hookName](routers[hookName]);\r\n            }\r\n        });\r\n    }\r\n    var store = undefined;\r\n    if (typeof stores === 'object' && Object.keys(stores).length > 0) {\r\n        Vue.use(Vuex);\r\n        store = new Vuex.Store(stores);\r\n    }\r\n    if (Array.isArray(plugins) && plugins.length > 0) {\r\n        plugins.forEach(function (_a) {\r\n            var pluginInstance = _a[0], arg = _a[1];\r\n            Vue.use(pluginInstance, arg);\r\n        });\r\n    }\r\n    var mpInitData = { shareMessage: shareMessage };\r\n    globalData.set('mpInitData', mpInitData);\r\n    if (getMode() === 'plugin-dev') {\r\n        message.init(window.parent);\r\n        message.on('configData', function (configData) {\r\n            globalData.set('shopConfiguration', configData);\r\n            console.log('%c 接收提示', 'background:green;color:white', '插件视图(线上)已收到配置数据更改通知');\r\n        });\r\n    }\r\n    else {\r\n        javaRequest.post('/user/interact/save', {\r\n            key: globalData.get('pluginId'),\r\n            value: mpInitData,\r\n        });\r\n    }\r\n    if (typeof title === 'string') {\r\n        setTitle(title);\r\n    }\r\n    else if (typeof title === 'function') {\r\n        var callRes = title();\r\n        if (typeof callRes === 'string') {\r\n            setTitle(callRes);\r\n        }\r\n        else if (callRes instanceof Promise) {\r\n            callRes.then(function (res) {\r\n                if (typeof res === 'string') {\r\n                    setTitle(res);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    new Vue({\r\n        router: router,\r\n        store: store,\r\n        render: function (h) { return h(options); },\r\n    }).$mount('#app');\r\n}\n\nfunction callServerFunction (options) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var activityId, shopId, data, error_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    activityId = globalData.get('activityId');\r\n                    shopId = globalData.get('shopId');\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4, request.post('/v1/call_viewprogramme_function', __assign({ activityId: activityId,\r\n                            shopId: shopId }, options))];\r\n                case 2:\r\n                    data = (_a.sent()).data;\r\n                    if (data.code !== 200) {\r\n                        throw new Error(data.msg);\r\n                    }\r\n                    return [2, data.data];\r\n                case 3:\r\n                    error_1 = _a.sent();\r\n                    error_1.message = \"[ViewProgramServerError]\" + error_1.message;\r\n                    throw error_1;\r\n                case 4: return [2];\r\n            }\r\n        });\r\n    });\r\n}\n\nvar errorPrefix = 'assert';\r\nfunction assert(val, message) {\r\n    if (!val) {\r\n        throw new Error(\"[\" + errorPrefix + \"]\" + (message || '参数断言失败'));\r\n    }\r\n}\r\nassert.notNull = function (val, message) {\r\n    assert(val !== null && val !== undefined, message || '参数不能为空');\r\n};\r\nassert.match = function (val, reg, message) {\r\n    assert(reg.test(val), message || '参数与指定正则表达式不匹配');\r\n},\r\n    assert.equal = function (val, equalVal, message) {\r\n        assert(val === equalVal, message || '参数与指定参数不相等');\r\n    },\r\n    assert.equalType = function (val, type, message) {\r\n        var typeAry = Array.isArray(type) ? type : [type];\r\n        var equalPass = false;\r\n        for (var i in typeAry) {\r\n            if (typeAry[i] === (val === null || val === void 0 ? void 0 : val.constructor)) {\r\n                equalPass = true;\r\n                break;\r\n            }\r\n        }\r\n        assert(equalPass, message || '参数与指定类型不匹配');\r\n    };\n\nfunction getEchoData (echoKey) {\r\n    var _this = this;\r\n    return new Promise(function (resolve, reject) {\r\n        if (!echoKey) {\r\n            reject('echoKey不能为空');\r\n            return;\r\n        }\r\n        var timer = setInterval(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var data, echoData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, javaRequest.get('/user/interact/get', {\r\n                            params: { key: echoKey },\r\n                        })];\r\n                    case 1:\r\n                        data = (_a.sent()).data;\r\n                        echoData = data.data;\r\n                        if (data.code !== 200 || !echoData) {\r\n                            return [2];\r\n                        }\r\n                        javaRequest.get('/user/interact/notify', {\r\n                            params: { key: echoKey },\r\n                        });\r\n                        clearInterval(timer);\r\n                        if (echoData.exception) {\r\n                            reject(echoData.exception);\r\n                        }\r\n                        else {\r\n                            resolve(echoData.response);\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        }); }, 1500);\r\n    });\r\n}\n\nvar interactPage = '/pages/interact-webview-miniprogram/interact-webview-miniprogram';\r\nvar payIntent = {\r\n    COUPON_PURCHASE: 'couponPurchase',\r\n    RECHARGE: 'recharge',\r\n};\r\nfunction pay(payOptions) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var echoKey, activityId, shopId;\r\n        return __generator(this, function (_a) {\r\n            assert(Object.values(payIntent).indexOf(payOptions.intent) >= 0, 'intent不正确，请使用`EL.payIntent`中的属性');\r\n            assert(payOptions.amount > 0, '支付金额必须大于0，单位(元)');\r\n            if (payOptions.intent === 'couponPurchase') {\r\n                assert(payOptions.couponGroupId, '购买卡券支付时，需传入couponGroupId');\r\n            }\r\n            echoKey = getInteractKey();\r\n            activityId = globalData.get('activityId');\r\n            shopId = globalData.get('shopId');\r\n            navigateTo(interactPage, {\r\n                data: encodeURIComponent(JSON.stringify({\r\n                    intent: 'pay',\r\n                    echoKey: echoKey,\r\n                    payload: {\r\n                        payOptions: payOptions,\r\n                        activityId: activityId,\r\n                        shopId: shopId,\r\n                    },\r\n                })),\r\n            });\r\n            return [2, getEchoData(echoKey)];\r\n        });\r\n    });\r\n}\r\nfunction subscribeMessage(options, tipText, btnText) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var messageNames, platform, notifyDataMap, platformMsgCodeMap, tmplIds, echoKey, subscribeRes, tmplId2NameMap, name_1, tmplCodeItem, resAvailable, tmplId, optionMsgData, resTransform;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    messageNames = Object.keys(options);\r\n                    assert(messageNames.length > 0, '请至少订阅一条消息');\r\n                    Object.keys(options).forEach(function (msgCode) {\r\n                        var _a = options[msgCode], timing = _a.timing, channel = _a.channel, notifyData = _a.notifyData;\r\n                        assert(timing instanceof Date || typeof channel === 'string', \"[MESSAGE_CODE:\" + msgCode + \"]\\u5FC5\\u987B\\u6307\\u5B9Atiming\\u6216channel\\u5176\\u4E2D\\u4E4B\\u4E00\");\r\n                        assert(notifyData.length > 0, \"[MESSAGE_CODE:\" + msgCode + \"]\\u6A21\\u677F\\u6570\\u636E\\u4E0D\\u80FD\\u4E3A\\u7A7A\");\r\n                    });\r\n                    platform = getPlatform();\r\n                    if (process.env.NODE_ENV !== 'production') {\r\n                        platform = MP_WEIXIN;\r\n                    }\r\n                    if (platform !== MP_WEIXIN && platform !== MP_ALIPAY) {\r\n                        throw new Error(\"'\" + platform + \"'\\u5E73\\u53F0\\u4E0A\\u4E0D\\u652F\\u6301\\u8BA2\\u9605\\u6D88\\u606F\");\r\n                    }\r\n                    notifyDataMap = {};\r\n                    platformMsgCodeMap = tmplCodeMap[platform];\r\n                    tmplIds = messageNames.map(function (msgName) {\r\n                        var tmplCodeItem = platformMsgCodeMap[msgName];\r\n                        if (tmplCodeItem) {\r\n                            var notifyData_1 = options[msgName].notifyData || [];\r\n                            if (notifyData_1.length >= tmplCodeItem.dataNames.length) {\r\n                                var notifyDataObj_1 = {};\r\n                                tmplCodeItem.dataNames.forEach(function (dataName, index) { return notifyDataObj_1[dataName] = notifyData_1[index]; });\r\n                                notifyDataMap[tmplCodeItem.id] = notifyDataObj_1;\r\n                            }\r\n                            else {\r\n                                throw new Error(\"[\\u6D88\\u606F:\" + msgName + \"]\" + tmplCodeItem.errorText);\r\n                            }\r\n                        }\r\n                        return tmplCodeItem.id;\r\n                    }).filter(function (tmplCodeItem) { return tmplCodeItem; });\r\n                    assert(tmplIds.length > 0, '请传入有效的消息名');\r\n                    echoKey = getInteractKey();\r\n                    if (process.env.NODE_ENV === 'production') {\r\n                        navigateTo(interactPage, {\r\n                            data: encodeURIComponent(JSON.stringify({\r\n                                intent: 'notice',\r\n                                echoKey: echoKey,\r\n                                payload: {\r\n                                    tmplIds: tmplIds,\r\n                                    tipText: tipText,\r\n                                    btnText: btnText,\r\n                                },\r\n                            })),\r\n                        });\r\n                    }\r\n                    subscribeRes = {};\r\n                    if (!(process.env.NODE_ENV === 'production')) return [3, 2];\r\n                    return [4, getEchoData(echoKey)];\r\n                case 1:\r\n                    subscribeRes = _a.sent();\r\n                    return [3, 3];\r\n                case 2:\r\n                    tmplIds.forEach(function (tmplId) { return subscribeRes[tmplId] = 'accept'; });\r\n                    _a.label = 3;\r\n                case 3:\r\n                    tmplId2NameMap = {};\r\n                    for (name_1 in platformMsgCodeMap) {\r\n                        tmplCodeItem = platformMsgCodeMap[name_1];\r\n                        tmplId2NameMap[tmplCodeItem.id] = name_1;\r\n                    }\r\n                    resAvailable = {};\r\n                    for (tmplId in subscribeRes) {\r\n                        optionMsgData = options[tmplId2NameMap[tmplId]];\r\n                        if (subscribeRes[tmplId] === 'accept' && optionMsgData) {\r\n                            resAvailable[tmplId] = {\r\n                                notifyData: notifyDataMap[tmplId],\r\n                                timing: optionMsgData.timing ? formatTime(optionMsgData.timing) : '',\r\n                                channel: optionMsgData.channel,\r\n                                path: getMPPath(optionMsgData.path, optionMsgData.routePath, optionMsgData.query, false),\r\n                            };\r\n                        }\r\n                    }\r\n                    if (!(process.env.NODE_ENV === 'production')) return [3, 5];\r\n                    return [4, callServerFunction({\r\n                            name: 'subscribeMessage',\r\n                            data: resAvailable,\r\n                        })];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [3, 6];\r\n                case 5:\r\n                    console.log(resAvailable);\r\n                    _a.label = 6;\r\n                case 6:\r\n                    resTransform = {};\r\n                    Object.keys(subscribeRes).forEach(function (tmplId) {\r\n                        resTransform[tmplId2NameMap[tmplId] || tmplId] = subscribeRes[tmplId];\r\n                    });\r\n                    return [2, resTransform];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction share(shareOptions) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            navigateTo(interactPage, {\r\n                data: window.encodeURIComponent(JSON.stringify({\r\n                    intent: 'share',\r\n                    payload: {\r\n                        title: shareOptions.title,\r\n                        imageUrl: shareOptions.imageUrl,\r\n                        path: getMPPath(shareOptions.path, shareOptions.routePath, shareOptions.query),\r\n                    },\r\n                })),\r\n            });\r\n            return [2];\r\n        });\r\n    });\r\n}\r\nvar pageCodes = {\r\n    shopHomepage: '/page-other/shop-homepage/shop-homepage',\r\n};\r\nfunction navigateELPage(pageCode, params) {\r\n    if (params === void 0) { params = {}; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var path;\r\n        return __generator(this, function (_a) {\r\n            path = pageCodes[pageCode];\r\n            assert.notNull(path, \"invalid pageCode`\" + pageCode + \"`\");\r\n            return [2, navigateTo(path, params)];\r\n        });\r\n    });\r\n}\r\nfunction getUserInfo(tips) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var userInfo, echoKey;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, callServerFunction({ name: 'getUserInfo' })];\r\n                case 1:\r\n                    userInfo = _a.sent();\r\n                    if (!!userInfo) return [3, 3];\r\n                    echoKey = getInteractKey();\r\n                    navigateTo('/pages/login/login', {\r\n                        tips: tips,\r\n                        echoKey: echoKey,\r\n                        save: 'true',\r\n                    });\r\n                    return [4, getEchoData(echoKey)];\r\n                case 2:\r\n                    userInfo = _a.sent();\r\n                    _a.label = 3;\r\n                case 3: return [2, userInfo];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction giveCoupon(groupId, userId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            assert(groupId, 'param `groupId` must be given');\r\n            return [2, callServerFunction({\r\n                    name: 'giveCoupon',\r\n                    data: { customerId: userId, groupId: groupId },\r\n                })];\r\n        });\r\n    });\r\n}\r\nfunction getCouponInfo(groupId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var globalCouponKey, couponInfoMap, groupIds, couponRes, requestGroupIds, i, idItem, couponInfo, couponInfos_1, currentMilTs_1, keys;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    assert.equalType(groupId, [String, Array], 'groupIds must be given a string or a array of string');\r\n                    globalCouponKey = 'couponInfo';\r\n                    couponInfoMap = globalData.get(globalCouponKey) || {};\r\n                    groupIds = Array.isArray(groupId) ? groupId : [groupId];\r\n                    couponRes = {};\r\n                    requestGroupIds = [];\r\n                    for (i in groupIds) {\r\n                        idItem = groupIds[i];\r\n                        couponInfo = couponInfoMap[idItem];\r\n                        if (!couponInfo) {\r\n                            requestGroupIds.push(idItem);\r\n                        }\r\n                        else {\r\n                            couponRes[couponInfo.id] = couponInfo;\r\n                        }\r\n                    }\r\n                    if (!(requestGroupIds.length > 0)) return [3, 2];\r\n                    return [4, callServerFunction({\r\n                            name: 'getCouponInfo',\r\n                            data: { groupId: requestGroupIds },\r\n                        })];\r\n                case 1:\r\n                    couponInfos_1 = _a.sent();\r\n                    currentMilTs_1 = Date.now();\r\n                    requestGroupIds.forEach(function (groupId) {\r\n                        var couponInfo = couponInfos_1.find(function (_a) {\r\n                            var id = _a.id;\r\n                            return id === groupId;\r\n                        });\r\n                        if (couponInfo) {\r\n                            couponInfo.expireTime = new Date(couponInfo.expireTime * 1000);\r\n                            couponInfo.status = couponInfo.expireTime.getTime() < currentMilTs_1 ? 0 : couponInfo.status;\r\n                            if (typeof couponInfo.useLimit === 'string') {\r\n                                couponInfo.useLimit = JSON.parse(couponInfo.useLimit || '[]');\r\n                            }\r\n                            couponInfoMap[couponInfo.id] = couponInfo;\r\n                        }\r\n                        couponRes[groupId] = couponInfo;\r\n                    });\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (Array.isArray(groupId)) {\r\n                        return [2, couponRes];\r\n                    }\r\n                    else {\r\n                        keys = Object.keys(couponRes);\r\n                        return [2, keys.length > 0 ? couponRes[keys[0]] : null];\r\n                    }\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getDishInfo(dishId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var globalDishesKey, dishesInfoMap, dishIds, dishesRes, requestDishIds, i, idItem, dishInfo, dishInfos_1, keys;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    assert.equalType(dishId, [String, Array], 'dishIds must be given a string or a array of string');\r\n                    globalDishesKey = 'dishesInfo';\r\n                    dishesInfoMap = globalData.get(globalDishesKey) || {};\r\n                    dishIds = Array.isArray(dishId) ? dishId : [dishId];\r\n                    dishesRes = {};\r\n                    requestDishIds = [];\r\n                    for (i in dishIds) {\r\n                        idItem = dishIds[i];\r\n                        dishInfo = dishesInfoMap[idItem];\r\n                        if (!dishInfo) {\r\n                            requestDishIds.push(idItem);\r\n                        }\r\n                        else {\r\n                            dishesRes[dishInfo.id] = dishInfo;\r\n                        }\r\n                    }\r\n                    if (!(requestDishIds.length > 0)) return [3, 2];\r\n                    return [4, callServerFunction({\r\n                            name: 'getDishInfo',\r\n                            data: { dishId: requestDishIds },\r\n                        })];\r\n                case 1:\r\n                    dishInfos_1 = _a.sent();\r\n                    requestDishIds.forEach(function (dishId) {\r\n                        var couponInfo = dishInfos_1.find(function (_a) {\r\n                            var id = _a.id;\r\n                            return id === dishId;\r\n                        });\r\n                        if (couponInfo) {\r\n                            dishesInfoMap[couponInfo.id] = couponInfo;\r\n                        }\r\n                        dishesRes[dishId] = couponInfo;\r\n                    });\r\n                    _a.label = 2;\r\n                case 2:\r\n                    if (Array.isArray(dishId)) {\r\n                        return [2, dishesRes];\r\n                    }\r\n                    else {\r\n                        keys = Object.keys(dishesRes);\r\n                        return [2, keys.length > 0 ? dishesRes[keys[0]] : null];\r\n                    }\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getShopInfo() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var globalShopInfoKey, shopInfo;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    globalShopInfoKey = 'shopInfo';\r\n                    shopInfo = globalData.get(globalShopInfoKey);\r\n                    if (!!shopInfo) return [3, 2];\r\n                    return [4, callServerFunction({ name: 'getShopInfo' })];\r\n                case 1:\r\n                    shopInfo = _a.sent();\r\n                    globalData.set(globalShopInfoKey, shopInfo);\r\n                    _a.label = 2;\r\n                case 2: return [2, shopInfo];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getConfiguration() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var globalConfigKey, configData;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    globalConfigKey = 'shopConfiguration';\r\n                    configData = globalData.get(globalConfigKey);\r\n                    if (!!configData) return [3, 2];\r\n                    return [4, callServerFunction({ name: 'getConfiguration' })];\r\n                case 1:\r\n                    configData = _a.sent();\r\n                    globalData.set(globalConfigKey, configData);\r\n                    _a.label = 2;\r\n                case 2: return [2, configData];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction notifyMessage(channel) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, callServerFunction({\r\n                    name: 'notifyMessage',\r\n                    data: { channel: channel },\r\n                })];\r\n        });\r\n    });\r\n}\r\nfunction changeShop(shopId) {\r\n    shopId = shopId.toString().trim();\r\n    var currentShopId = globalData.get('shopId') || '';\r\n    if (shopId && currentShopId !== shopId) {\r\n        location.href = location.href.replace(/\\w+(\\/\\w+\\/)online/, function (mat, rep) {\r\n            return mat.replace(rep, \"/\" + shopId + \"/\");\r\n        });\r\n    }\r\n}\n\nvar el = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    payIntent: payIntent,\n    pay: pay,\n    subscribeMessage: subscribeMessage,\n    share: share,\n    navigateELPage: navigateELPage,\n    getUserInfo: getUserInfo,\n    giveCoupon: giveCoupon,\n    getCouponInfo: getCouponInfo,\n    getDishInfo: getDishInfo,\n    getShopInfo: getShopInfo,\n    getConfiguration: getConfiguration,\n    notifyMessage: notifyMessage,\n    changeShop: changeShop\n});\n\nvar _a$1;\r\nvar structKey = function (namespace, key) { return namespace + key.toString(); };\r\nvar STORAGE_KEYS_SUFFIX = '__$$namespaced_storage_keys$$__';\r\nvar getGlobalThisInfo = function (storageTag) {\r\n    var _a = storages[storageTag], globalThis = _a.globalThis, namespace = _a.namespace;\r\n    var keysStoreKey = structKey(namespace, STORAGE_KEYS_SUFFIX);\r\n    return {\r\n        storage: globalThis,\r\n        keysStoreKey: keysStoreKey,\r\n        namespace: namespace,\r\n        keys: JSON.parse(globalThis.getItem(keysStoreKey) || '[]'),\r\n    };\r\n};\r\nvar LOCAL_STORAGE = 'localStorage';\r\nvar SESSION_STORAGE = 'sessionStorage';\r\nvar storages = (_a$1 = {},\r\n    _a$1[LOCAL_STORAGE] = {\r\n        globalThis: window.localStorage,\r\n        namespace: '',\r\n    },\r\n    _a$1[SESSION_STORAGE] = {\r\n        globalThis: window.sessionStorage,\r\n        namespace: '',\r\n    },\r\n    _a$1);\r\nvar NamespacedStorage = (function () {\r\n    function NamespacedStorage(namespace, storageTag) {\r\n        storages[storageTag].namespace = namespace;\r\n        this.storageTag = storageTag;\r\n        var keys = getGlobalThisInfo(storageTag).keys;\r\n        this.length = keys.length;\r\n    }\r\n    NamespacedStorage.prototype.setItem = function (key, value) {\r\n        var _a = getGlobalThisInfo(this.storageTag), storage = _a.storage, keys = _a.keys, keysStoreKey = _a.keysStoreKey, namespace = _a.namespace;\r\n        var index = keys.indexOf(key);\r\n        if (keys.length > 0 && index >= 0) {\r\n            keys[index] = key;\r\n        }\r\n        else {\r\n            keys.push(key);\r\n        }\r\n        this.length = keys.length;\r\n        storage.setItem(keysStoreKey, JSON.stringify(keys));\r\n        return storage.setItem(structKey(namespace, key), value);\r\n    };\r\n    NamespacedStorage.prototype.getItem = function (key) {\r\n        var _a = getGlobalThisInfo(this.storageTag), storage = _a.storage, namespace = _a.namespace;\r\n        return storage.getItem(structKey(namespace, key));\r\n    };\r\n    NamespacedStorage.prototype.removeItem = function (key) {\r\n        var _a = getGlobalThisInfo(this.storageTag), storage = _a.storage, keys = _a.keys, keysStoreKey = _a.keysStoreKey, namespace = _a.namespace;\r\n        var index = keys.indexOf(key);\r\n        if (keys.length > 0 && index >= 0) {\r\n            keys.splice(index, 1);\r\n        }\r\n        this.length = keys.length;\r\n        storage.setItem(keysStoreKey, JSON.stringify(keys));\r\n        return storage.removeItem(structKey(namespace, key));\r\n    };\r\n    NamespacedStorage.prototype.clear = function () {\r\n        var _a = getGlobalThisInfo(this.storageTag), storage = _a.storage, keys = _a.keys, keysStoreKey = _a.keysStoreKey, namespace = _a.namespace;\r\n        if (keys.length > 0) {\r\n            keys.forEach(function (key) { return storage.removeItem(structKey(namespace, key)); });\r\n        }\r\n        this.length = 0;\r\n        storage.removeItem(keysStoreKey);\r\n    };\r\n    NamespacedStorage.prototype.key = function (index) {\r\n        var key = null;\r\n        var _a = getGlobalThisInfo(this.storageTag), keys = _a.keys, namespace = _a.namespace;\r\n        var namespacedKey = keys[index];\r\n        if (typeof namespacedKey === 'string') {\r\n            key = namespacedKey.replace(namespace, '');\r\n        }\r\n        return key;\r\n    };\r\n    return NamespacedStorage;\r\n}());\n\nvar converterErrors = {\r\n    argsLength: function (fnName, length) {\r\n        return \"function \" + fnName + \" expected 1 arg bug got \" + length;\r\n    },\r\n};\r\nvar argsConverters = {\r\n    insert: function (val, _) {\r\n        assert(val.length === 1, converterErrors.argsLength('insert', val.length));\r\n        val[0] = Array.isArray(val[0]) ? val[0] : [val[0]];\r\n        return val;\r\n    },\r\n    limit: function (val, _) {\r\n        assert(val.length === 1, converterErrors.argsLength('limit', val.length));\r\n        return val[0];\r\n    },\r\n    skip: function (val, _) {\r\n        assert(val.length === 1, converterErrors.argsLength('skip', val.length));\r\n        return val[0];\r\n    },\r\n    sync: function (_, target) {\r\n        assert(Object.keys(target).length === 1 && target.collection, 'function sync must call after collection name');\r\n        return true;\r\n    },\r\n};\n\nvar commonWord = function (name) { return \"forbidden call function `\" + name + \"`\"; };\r\nvar collectionForbiddenCalledFns = {\r\n    drop: commonWord('drop') + ', instead you can delete collection by editing property `database` in plugin.js',\r\n};\r\nvar dbForbiddenCalledFns = {\r\n    dropDatabase: commonWord('dropDatabase'),\r\n    createDatabase: commonWord('createDatabase'),\r\n    createCollection: commonWord('createCollection') + ', collections will create automatically when uploading',\r\n};\n\nfunction responseConvert (mongoData) {\r\n    if (Array.isArray(mongoData)) {\r\n        mongoData = mongoData.map(function (dataItem) {\r\n            if (typeof dataItem === 'string') {\r\n                dataItem = JSON.parse(dataItem, function (key, value) {\r\n                    if (key === '') {\r\n                        return value;\r\n                    }\r\n                    if (/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]+Z$/.test(value)) {\r\n                        value = new Date(value);\r\n                    }\r\n                    else if (typeof value === 'object' && Object.keys(value).length === 1 && value.$oid) {\r\n                        value = value.$oid;\r\n                    }\r\n                    return value;\r\n                });\r\n            }\r\n            return dataItem;\r\n        });\r\n    }\r\n    return mongoData;\r\n}\n\nfunction createProxyedPromise(target, handler, executor) {\r\n    var protoProxy = new Proxy(target, handler);\r\n    Object.setPrototypeOf(Promise.prototype, protoProxy);\r\n    return new Promise(executor);\r\n}\r\nfunction createCollectionProxy(collectionName, activityId) {\r\n    var proxyObject = { collection: collectionName };\r\n    var collectionProxyedPromise = createProxyedPromise(proxyObject, {\r\n        get: function (target, key) {\r\n            var exceptionstring = collectionForbiddenCalledFns[key];\r\n            assert(typeof exceptionstring !== 'string', exceptionstring);\r\n            return function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var convertFn = argsConverters[key] || (function (val, _) { return val; });\r\n                target[key] = convertFn(args, target);\r\n                return collectionProxyedPromise;\r\n            };\r\n        },\r\n    }, function (resolve, reject) {\r\n        setTimeout(function () {\r\n            if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'production') {\r\n                javaRequest({\r\n                    url: '/mongo/collections/operation',\r\n                    method: 'post',\r\n                    data: {\r\n                        activityId: activityId,\r\n                        pluginId: globalData.get('pluginId'),\r\n                        env: getMode() === 'plugin-dev' ? 1 : 2,\r\n                        db: proxyObject,\r\n                    },\r\n                }).then(function (_a) {\r\n                    var data = _a.data;\r\n                    if (data.code !== 200) {\r\n                        reject(new Error(data.msg));\r\n                        return;\r\n                    }\r\n                    resolve(responseConvert(data.data));\r\n                }, function (rej) { return reject(rej); });\r\n            }\r\n            else {\r\n                resolve({ activityId: activityId, db: proxyObject });\r\n            }\r\n        });\r\n    });\r\n    return collectionProxyedPromise;\r\n}\r\nfunction createNamespacedDatabase(activityId) {\r\n    return new Proxy({}, {\r\n        get: function (_, key) {\r\n            var exceptionstring = dbForbiddenCalledFns[key];\r\n            if (typeof exceptionstring === 'string') {\r\n                throw new Error(exceptionstring);\r\n            }\r\n            return createCollectionProxy(key, activityId);\r\n        },\r\n    });\r\n}\n\nvar params = parseUrlParams(window.location.search);\r\nvar keyParams = parseKeyParams(window.location.pathname);\r\nglobalData.set(__assign(__assign({}, params), keyParams));\r\nvar pluginMode = getMode();\r\nif (!keyParams.activityId || !keyParams.shopId) {\r\n    throw new Error(\"query `activityId` and `shopId` must be given\");\r\n}\r\nvar activityId = keyParams.activityId, namespace = activityId || '', localStorage = new NamespacedStorage(namespace, LOCAL_STORAGE), sessionStorage = new NamespacedStorage(namespace, SESSION_STORAGE), database = createNamespacedDatabase(namespace);\r\nif (pluginMode === 'prod') {\r\n    Object.defineProperties(window, {\r\n        localStorage: { value: localStorage },\r\n        sessionStorage: { value: sessionStorage },\r\n    });\r\n}\r\nvar index = __assign(__assign({ Page: Page,\r\n    database: database }, el), mp);\n\nexport default index;\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./price-text.vue?vue&type=style&index=0&id=6003582c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./price-text.vue?vue&type=style&index=0&id=6003582c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.nodeEnv === 'production' || _vm.isCross)?_c('div',{attrs:{\"id\":\"__MARKETING_AD__\"}}):_c('template-index')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('span',[_vm._v(\"你有2个消费券未支付完成\")]),_c('span',[_vm._v(\"去完成\")])])}]\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2020-06-02 16:16:28\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-06-02 16:21:52\n--> \n<template>\n  <div class=\"container\">\n    <span>你有2个消费券未支付完成</span>\n    <span>去完成</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  \n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  background: #f5f5f5;\n  padding: 14px 20px;\n  border-bottom: solid 0.5px #ccc;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unpayed.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unpayed.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Unpayed.vue?vue&type=template&id=1cddddd0&scoped=true&\"\nimport script from \"./Unpayed.vue?vue&type=script&lang=js&\"\nexport * from \"./Unpayed.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Unpayed.vue?vue&type=style&index=0&id=1cddddd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cddddd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('union-shop-collection'),_c('coupon-expression',{attrs:{\"list-data\":_vm.couponData},on:{\"item-press\":_vm.itemPressHandler,\"item-btn-press\":_vm.itemBtnPressHandler},scopedSlots:_vm._u([{key:\"default\",fn:function(aa){return [_c('span',[_vm._v(\"123, \"+_vm._s(aa))])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2019-12-04 11:45:38\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 12:50:12\n -->\n<template>\n  <div>\n    <union-shop-collection />\n    <coupon-expression :list-data=\"couponData\"\n      @item-press=\"itemPressHandler\"\n      @item-btn-press=\"itemBtnPressHandler\"\n    >\n      <template #default=\"aa\">\n        <span>123, {{ aa }}</span>\n      </template>\n    </coupon-expression>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      current: '',\n      couponData: [{\n        id: 1,\n        price: 0.2\n      }, {\n        id: 2,\n        price: 0.2\n      }, {\n        id: 3,\n        price: 0\n      }, {\n        id: 4,\n        price: 0.2\n      }, {\n        id: 5,\n        price: 0\n      }, {\n        id: 16,\n        price: 40\n      }, {\n        id: 7,\n        price: 0.2\n      }, {\n        id: 11,\n        price: 0.2\n      }]\n    };\n  },\n  methods: {\n    itemPressHandler({ name }, { price }) {\n      console.log('item press', name, price);\n    },\n    itemBtnPressHandler({ name }, { price }) {\n      console.log('item btn press', name, price);\n    }\n  }\n};\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=19a37768&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Date: 2020-06-02 15:22:39\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 10:02:18\n--> \n<template>\n  <div id=\"__MARKETING_AD__\" v-if=\"nodeEnv === 'production' || isCross\">\n    <!-- <unpayed></unpayed> -->\n  </div>\n  <template-index v-else />\n</template>\n\n<script>\nimport Unpayed from './modules/Unpayed.vue';\nimport TemplateIndex from './template/index.vue';\nimport './assets/fonts/iconfont.css';\n\nexport default {\n  components: {\n    Unpayed,\n    TemplateIndex\n  },\n  data() {\n    return {\n      isCross: process.env.VUE_APP_DEV_CROSS === '1',\n    };\n  },\n  computed: {\n    nodeEnv() {\n      return process.env.NODE_ENV;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@font-face {\n  font-family: 'iconfont';\n  src: url('./assets/fonts/iconfont.eot');\n  src: url('./assets/fonts/iconfont.eot?#iefix') format('embedded-opentype'),\n  url('./assets/fonts/iconfont.woff') format('woff'),\n  url('./assets/fonts/iconfont.ttf') format('truetype'),\n  url('./assets/fonts/iconfont.svg#iconfont') format('svg');\n}\n.iconfont {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -webkit-text-stroke-width:  0.2px;\n  -moz-osx-font-smoothing: grayscale;\n}\n#__MARKETING_AD__ {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=78dec7ec&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"__ERROR__\"}},[_c('div',{staticClass:\"error-text\"},[_c('span',[_vm._v(\"o(╥﹏╥)o\")]),_c('span',[_vm._v(\"您访问的活动不存在！\")])])])}]\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2020-06-02 15:22:39\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-07-23 12:57:24\n--> \n<template>\n  <div id=\"__ERROR__\">\n    <div class=\"error-text\">\n      <span>o(╥﹏╥)o</span>\n      <span>您访问的活动不存在！</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  \n};\n</script>\n\n<style lang=\"scss\">\n#__ERROR__ {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n.error-text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #aaa;\n  font-size: 20px;\n  margin-top: 80px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Error.vue?vue&type=template&id=f2449b7a&\"\nimport script from \"./Error.vue?vue&type=script&lang=js&\"\nexport * from \"./Error.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Error.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * @Date: 2020-07-23 12:23:34\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-07 15:34:35\n */ \n\n/**\n * @description: 解析出pluginId、activityId、shopId、page等关键数据\n * @author: JOU(wx: huzhen555)\n * @param {string} 待解析的pathname(相对路径)\n * @return 包含pluginId、activityId、shopId、page的数据对象\n */\nexport function parseKeyParams(pathname) {\n  const keyParams = {\n    pluginId: '',\n    activityId: '',\n    shopId: '',\n    page: '',\n  }\n  pathname = pathname.substr(0, 1) === '/' ? pathname.substr(1) : pathname;\n  let pathDataAry = pathname.split('/');\n  let onlineStrIndex = pathDataAry.indexOf('online');\n  if (onlineStrIndex <= -1) {\n    throw new Error(`current url is not a online program's url`);\n  }\n  keyParams.page = pathDataAry[onlineStrIndex + 1] || 'index';  // page为空时默认为index\n  pathDataAry = pathDataAry.slice(0, onlineStrIndex);\n  keyParams.pluginId = pathDataAry[0] || '';\n  keyParams.activityId = pathDataAry[1] || '';\n  keyParams.shopId = pathDataAry[2] || '';\n  return keyParams;\n}","/*\n * @Date: 2020-07-23 12:26:45\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 10:11:35\n */\nconst scriptHost = 'https://static.ycsh6.com';\n// 根据模式返回对应数据\nfunction getModeValue(modeOption) {\n  let mode = /devMode=1/.test(window.location.href) ? 'pluginDev' : 'prod';\n  return modeOption[mode] || '';\n}\n\nexport const programScriptUrl = getModeValue({\n  pluginDev: ({ page }) => `/${page}.js`,\n  prod: ({ pluginId, page }) => `${scriptHost}/program/${pluginId}/online/${page}.js?${Math.round(Math.random() * 1000000000)}`,\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container flex-column\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"活动联合餐厅\")]),_c('div',{staticClass:\"shop-container\",on:{\"scroll\":_vm.containerScrollHandler}},[_c('div',{staticClass:\"flex-row\",style:(_vm.containerStyle)},[_c('div',{staticClass:\"shop-wrap flex-column\"},_vm._l((_vm.list),function(shopItem){return _c('div',{key:shopItem.id,ref:\"shopItem\",refInFor:true,staticClass:\"wrap flex-row align-center\",style:(_vm.itemStyle)},[_c('div',{staticClass:\"avatar avatar-wrap\",on:{\"click\":function($event){return _vm.nav2Homepage(shopItem.id)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":shopItem.avatar}})]),_c('div',{staticClass:\"content-wrap flex-row align-center justify-between\",on:{\"click\":function($event){return _vm.toggleShop(shopItem.id)}}},[_c('div',{staticClass:\"content flex-column\"},[_c('span',{staticClass:\"title-4 color-gray-4 name\"},[_vm._v(_vm._s(shopItem.shopName))]),_c('span',{staticClass:\"text-auxiliary color-gray-2\"},[_vm._v(_vm._s(shopItem.shortIntro))])]),_vm._m(0,true)])])}),0),(_vm.showLoading)?_c('div',{staticClass:\"loading flex-row align-center\"},[_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":20,\"text-size\":13,\"vertical\":\"\"}},[_vm._v(\"加\"),_c('br'),_vm._v(\"载\"),_c('br'),_vm._v(\"中\")])],1):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-access clickable\"},[_c('span',{staticClass:\"iconfont iconjinru\"})])}]\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2020-08-13 21:07:22\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-24 16:22:05\n-->\n<template>\n  <div class=\"container flex-column\">\n    <h3 class=\"title\">活动联合餐厅</h3>\n    <div class=\"shop-container\" @scroll=\"containerScrollHandler\">\n      <div class=\"flex-row\" :style=\"containerStyle\">\n        <div class=\"shop-wrap flex-column\">\n          <div class=\"wrap flex-row align-center\" ref=\"shopItem\" v-for=\"shopItem in list\" :key=\"shopItem.id\" :style=\"itemStyle\">\n            <div class=\"avatar avatar-wrap\" @click=\"nav2Homepage(shopItem.id)\">\n              <img class=\"avatar\" :src=\"shopItem.avatar\" />\n            </div>\n            <div class=\"content-wrap flex-row align-center justify-between\" @click=\"toggleShop(shopItem.id)\">\n              <div class=\"content flex-column\">\n                <span class=\"title-4 color-gray-4 name\">{{ shopItem.shopName }}</span>\n                <span class=\"text-auxiliary color-gray-2\">{{ shopItem.shortIntro }}</span>\n              </div>\n              <div class=\"btn-access clickable\">\n                <span class=\"iconfont iconjinru\" />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"loading flex-row align-center\" v-if=\"showLoading\">\n          <van-loading type=\"spinner\" :size=\"20\" :text-size=\"13\" vertical>加<br>载<br>中</van-loading>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EL from 'view-program-lib';\nimport Loading from 'vant/lib/loading';\nimport 'vant/lib/loading/style';\n\nconst { javaRequest, config } = EL.Page();\nexport default {\n  props: {\n    row: {\n      type: Number,\n      default: 3,\n      validator: val => val >= 1 && val <= 3,\n    }\n  },\n  components: {\n    [Loading.name]: Loading,\n  },\n  data() {\n    return {\n      itemWidth: document.body.offsetWidth * 0.84,\n      itemHeight: 70,\n      page: 1,\n      hasMore: true,\n      loading: false,\n      // list: [{\n      //   id: '11',\n      //   avatar: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3319452976,1715840207&fm=26&gp=0.jpg',\n      //   shopName: '咔哧咔哧',\n      //   shortIntro: '独一无二的卡吃烹饪餐厅',\n      // }, {\n      //   id: '12',\n      //   avatar: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3319452976,1715840207&fm=26&gp=0.jpg',\n      //   shopName: '咔哧咔哧',\n      //   shortIntro: '独一无二的卡吃烹饪餐厅',\n      // }, {\n      //   id: '13',\n      //   avatar: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3319452976,1715840207&fm=26&gp=0.jpg',\n      //   shopName: '咔哧咔哧',\n      //   shortIntro: '独一无二的卡吃烹饪餐厅',\n      // }, {\n      //   id: '14',\n      //   avatar: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3319452976,1715840207&fm=26&gp=0.jpg',\n      //   shopName: '咔哧咔哧',\n      //   shortIntro: '独一无二的卡吃烹饪餐厅',\n      // }, {\n      //   id: '15',\n      //   avatar: 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3319452976,1715840207&fm=26&gp=0.jpg',\n      //   shopName: '咔哧咔哧',\n      //   shortIntro: '独一无二的卡吃烹饪餐厅',\n      // }],\n      list: [],\n    }\n  },\n  computed: {\n    containerStyle() {\n      let column = Math.ceil(this.list.length / this.row);\n      let row = Math.min(this.list.length, this.row);\n      let loadingWidth = this.showLoading ? 30 : 0;\n      return {\n        // 32px为每个项左右两边的内边距，30px位加载组件的宽度\n        width: column * (this.itemWidth + 32) + loadingWidth + 'px',\n        height: row * (this.itemHeight + 12) + 'px',\n      };\n    },\n    itemStyle() {\n      return {\n        width: this.itemWidth + 'px',\n        height: this.itemHeight + 'px',\n      };\n    },\n    showLoading() {\n      return this.loading || this.hasMore;\n    }\n  },\n  methods: {\n    nav2Homepage(id) {\n      EL.navigateELPage('shopHomepage', { shopId: id });\n    },\n    toggleShop(id) {\n      EL.changeShop(id);\n    },\n    async requestList() {\n      if (this.hasMore && !this.loading) {\n        this.loading = true;\n        let pageSize = this.row === 3 ? 9 : 10;\n        let { data } = await javaRequest.get(`/shops/activities/${config.activityId}/shops`, {\n          params: {\n            status: '1,3',\n            pageNum: this.page,\n            pageSize,\n          },\n        });\n        this.loading = false;\n        this.page++;\n        let shopList = data.data.list;\n        this.list.push(...shopList);\n        if (shopList.length < pageSize) {\n          this.hasMore = false;\n        }\n      }\n    },\n    containerScrollHandler({ target }) {\n      if (target.scrollWidth - target.scrollLeft - 20 <= target.offsetWidth && this.hasMore && !this.loading) {\n        this.requestList();\n      }\n    }\n  },\n  async mounted() {\n    await this.requestList();\n    this.$nextTick(() => {\n      let shopItems = this.$refs.shopItem;\n      if (shopItems.length > 0) {\n        this.itemWidth = shopItems[0].offsetWidth;\n        this.itemHeight = shopItems[0].offsetHeight;\n      }\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  .title {\n    margin-left: 16px;\n    color: #333;\n  }\n  background: #f5f5f5;\n  .shop-container {\n    overflow: scroll;\n    .loading {\n      width: 30px;\n    }\n  }\n  .shop-wrap {\n    width: 100%;\n    flex-wrap: wrap;\n  }\n  .wrap {\n    margin: 0 16px;\n    margin-bottom: 10px;\n  }\n  .avatar-wrap {\n    height: 60px;\n    border-radius: $b-rds-10;\n    overflow: hidden;\n    margin-right: 10px;\n  }\n  .avatar {\n    width: 60px;\n  }\n  .content-wrap {\n    flex: 1;\n  }\n  .content {\n    .name {\n      font-weight: bolder;\n    }\n  }\n  $iconSize: 24px;\n  .btn-access {\n    width: $iconSize;\n    height: $iconSize;\n    border-radius: $iconSize;\n    background: #fff;\n    span {\n      font-size: 23px;\n      color: $color-gray-4;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./union-shop-collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./union-shop-collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./union-shop-collection.vue?vue&type=template&id=0dbcd1ec&scoped=true&\"\nimport script from \"./union-shop-collection.vue?vue&type=script&lang=js&\"\nexport * from \"./union-shop-collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./union-shop-collection.vue?vue&type=style&index=0&id=0dbcd1ec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dbcd1ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"flex-column align-center loading-wrap\"},[_c('van-loading',{attrs:{\"size\":\"24px\"}},[_vm._v(\"加载中...\")])],1):_c('div',{staticClass:\"flex-column\"},_vm._l((_vm.couponInfos),function(couponInfo){return _c('div',{key:couponInfo.id,staticClass:\"dish-item-wrap\"},[(couponInfo.couponData.dishes_id && _vm.couponDishInfos[couponInfo.couponData.dishes_id])?_c('dish-hori-rack',{attrs:{\"couponData\":couponInfo,\"data\":_vm.couponDishInfos[couponInfo.couponData.dishes_id],\"couponPrice\":couponInfo.price},on:{\"box-press\":function($event){return _vm.boxPressHandler(couponInfo, _vm.couponDishInfos[couponInfo.couponData.dishes_id])},\"btn-press\":function($event){return _vm.btnPressHandler(couponInfo, _vm.couponDishInfos[couponInfo.couponData.dishes_id])}}}):_c('amount-sales',{attrs:{\"couponData\":couponInfo,\"couponPrice\":couponInfo.price},on:{\"box-press\":function($event){return _vm.boxPressHandler(couponInfo, {})},\"btn-press\":function($event){return _vm.btnPressHandler(couponInfo, {})}}})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dish-wrap\",on:{\"click\":_vm.boxPressHandler}},[(_vm.data.tag)?_c('div',{staticClass:\"dish-tag\"},[_c('badge',{attrs:{\"text\":_vm.data.tag,\"color\":_vm.dishTagColors,\"inverted\":\"\",\"shape\":\"triangle\"}})],1):_vm._e(),(_vm.data.media[0])?_c('img',{staticClass:\"dish-img\",attrs:{\"src\":_vm.data.media[0]}}):_c('div',{staticClass:\"dish-img\"}),_c('div',{staticClass:\"dish-info\"},[_c('div',{staticClass:\"info-top\"},[_c('div',{staticClass:\"dish-name-wrap\"},[_c('span',{staticClass:\"dish-name\"},[_vm._v(_vm._s(_vm.data.name))])]),(_vm.data.describe)?_c('span',{staticClass:\"describe\"},[_vm._v(_vm._s(_vm.data.describe))]):_vm._e()]),_c('div',{staticClass:\"info-bottom flex-row align-right justify-between\"},[_c('div',{staticClass:\"price-discount\"},[(_vm.couponPrice > 0)?_c('div',{staticClass:\"price\"},[_c('price-text',{attrs:{\"amount\":_vm.couponPrice,\"size\":\"large\"}}),_c('price-text',{attrs:{\"amount\":_vm.data.price,\"disabled\":_vm.priceDisabled,\"size\":\"large\"}})],1):_vm._e(),(_vm.priceDisabled)?_c('div',{staticClass:\"discount\"},[_c('promotional-tag',{attrs:{\"color\":\"#FF8558\",\"text\":_vm.discount || ''}}),(_vm.data.limitCopies)?_c('span',{staticClass:\"limit-copies\"},[_vm._v(\"优惠限\"+_vm._s(_vm.data.limitCopies)+\"份\")]):_vm._e()],1):_vm._e()]),_c('div',{staticClass:\"btn-operate flex-column\"},[_c('button',{class:{ 'btn-receive': true, 'btn-disabled': _vm.couponDisabled || _vm.couponReceiveOver },attrs:{\"disabled\":_vm.couponDisabled},on:{\"click\":function($event){$event.stopPropagation();return _vm.receiveHandler($event)}}},[_vm._v(_vm._s(_vm.btnText))]),(!_vm.couponDisabled)?_c('van-progress',{staticClass:\"progress\",attrs:{\"inactive\":_vm.couponReceiveOver,\"pivot-text\":(\"剩余\" + _vm.leftPercent + \"%\"),\"percentage\":_vm.leftPercent}}):_vm._e()],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"promotional-tag\",style:(_vm.textColor)},[_vm._v(_vm._s(_vm.text))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2020-08-14 13:25:11\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-24 15:22:57\n-->\n<template>\n  <span class=\"promotional-tag\" :style=\"textColor\">{{ text }}</span>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: {\n      type: String,\n      required: true\n    },\n    color: {\n      type: String,\n      default: '#FF0047'\n    }\n  },\n  data() {\n    return {\n      textColor: `border-color: ${this.color}; color: ${this.color}`,\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.promotional-tag {\n  border-style: solid;\n  border-width: 1px;\n  font-size: 10px;\n  padding: 0px 3px;\n  border-radius: 20px;\n  display: flex;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotional-tag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotional-tag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./promotional-tag.vue?vue&type=template&id=098739c4&scoped=true&\"\nimport script from \"./promotional-tag.vue?vue&type=script&lang=js&\"\nexport * from \"./promotional-tag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./promotional-tag.vue?vue&type=style&index=0&id=098739c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"098739c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"price-text\"},[(_vm.reduce)?_c('span',{class:_vm.reduceCls},[_vm._v(\"-\")]):_vm._e(),_c('span',{class:_vm.moneyFlagCls},[_vm._v(\"￥\")]),_c('span',{class:_vm.amountCls},[_vm._v(_vm._s(_vm.amountDecimal))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2019-10-18 14:43:30\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-24 16:19:37\n -->\n<template>\n  <div class=\"price-text\">\n    <span v-if=\"reduce\" :class=\"reduceCls\">-</span>\n    <span :class=\"moneyFlagCls\">￥</span>\n    <span :class=\"amountCls\">{{ amountDecimal }}</span>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      amount: {\n        type: Number,\n        required: true,\n      },\n      disabled: {\n        type: Boolean,\n        default: false,\n      },\n      reduce: {\n        type: Boolean,\n        default: false,\n      },\n      size: {\n        validator: val => /^default|large$/.test(val),\n        default: 'default',\n      },\n    },\n    data() {\n      return {\n        \n      };\n    },\n    computed: {\n      moneyFlagCls() {\n        const clsAry = [];\n        switch(this.size) {\n          case 'default':\n            clsAry.push('money-flag-default');\n            break;\n          case 'large':\n            clsAry.push('money-flag-large');\n            break;\n        }\n        \n        // 支付宝小程序特殊性：不支持数组式的class写法\n        return clsAry.concat([this.disabled ? 'disabled' : 'enabled']).join(' ');\n      },\n      amountCls() {\n        const clsAry = [];\n        switch(this.size) {\n          case 'default':\n            clsAry.push('amount-default');\n            break;\n          case 'large':\n            clsAry.push('amount-large');\n            break;\n        }\n        \n        // 支付宝小程序特殊性：不支持数组式的class写法\n        return clsAry.concat([this.disabled ? 'disabled' : 'enabled']).join(' ');\n      },\n      reduceCls() {\n        return [this.disabled ? 'disabled' : 'enabled'].join(' ');\n      },\n      \n      // 保留两位小数\n      amountDecimal() {\n        return this.amount.toFixed(2);\n      },\n    }\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n.price-text {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.money-flag-default {\n  font-size: $font-explain;\n}\n.amount-default {\n  font-size: $font-text;\n}\n.money-flag-large {\n  font-size: $font-text-secondary;\n}\n.amount-large {\n  font-size: $font-title-2;\n}\n.enabled {\n  color: $color-main;\n}\n.disabled {\n  color: $color-gray-2;\n  text-decoration: line-through;\n  font-size: $font-auxiliary;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./price-text.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./price-text.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./price-text.vue?vue&type=template&id=6003582c&scoped=true&\"\nimport script from \"./price-text.vue?vue&type=script&lang=js&\"\nexport * from \"./price-text.vue?vue&type=script&lang=js&\"\nimport style0 from \"./price-text.vue?vue&type=style&index=0&id=6003582c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6003582c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.wrapCls,style:(_vm.wrapStyle)},[_c('span',{staticClass:\"badge-text\",style:(_vm.textStyle)},[_vm._v(_vm._s(_vm.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :class=\"wrapCls\" :style=\"wrapStyle\">\n\t\t<span class=\"badge-text\" :style=\"textStyle\">{{ text }}</span>\n\t</div>\n</template>\n\n<script>\nexport default {\n  \n  // text: 角标文本内容\n  // inverted: 是否无需背景颜色，为true时，背景颜色将变为文字的字体颜色\n  // color: 角标颜色，\n  // 1. 当color值为字符串时表示文本和边框颜色，背景为白色(inverted为true时背景为该颜色，文本为白色)\n  // 2. 当color值为字符串数组时，第一个值表示文本和边框颜色，第二个表示背景颜色(inverted为true时第一个值表示背景颜色，第二个值表示文本颜色)\n  // shape: 角标形状，有ellipse(椭圆)和triangle(方角)两种\n  // hasPadding: 左右两边是否有10px的padding，默认为true\n  props: {\n    text: {\n      type: [String, Number],\n      required: true,\n    },\n    inverted: {\n      type: Boolean,\n      default: false,\n    },\n    color: {\n      type: [String, Array],\n      default: '#ff0047',\n    },\n    shape: {\n      type: String,\n      default: 'ellipse',\n    },\n    hasPadding: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  computed: {\n    wrapCls() {\n      const cls = ['badge-wrap'];\n      if (this.hasPadding) {\n        cls.push('badge-padding');\n      }\n      \n      if (this.shape === 'triangle') {\n        cls.push('badge-triangle');\n      }\n      else {\n        cls.push('badge-ellipse');\n      }\n      return cls.concat(this.inverted ? [] : ['badge-wrap-border']).join(' ');\n    },\n    wrapStyle() {\n      const \n        color1 = Array.isArray(this.color) ? this.color[0] : this.color,\n        color2 = Array.isArray(this.color) ? this.color[1] : 'white',\n        styleObj = {};\n      if (this.inverted) {\n        styleObj.background = color1;\n      }\n      else {\n        styleObj.background = color2;\n        styleObj.borderColor = color1;\n      }\n\n      return styleObj;\n    },\n    textStyle() {\n      const \n        color1 = Array.isArray(this.color) ? this.color[0] : this.color,\n        color2 = Array.isArray(this.color) ? this.color[1] : 'white';\n      return {\n        color: this.inverted ? color2 : color1,\n      };\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.badge-wrap {\n  display: flex;\n  min-width: 18px;\n  height: 18px;\n  justify-content: center;\n  align-items: center;\n}\n.badge-padding {\n  padding: 0 8px;\n}\n.badge-ellipse {\n  border-radius: 32px;\n}\n.badge-triangle {\n  border-radius: 8px;\n  border-bottom-right-radius: 32px;\n}\n.badge-wrap-border {\n  border-style: solid;\n  border-width: 0.5px;\n}\n.badge-text {\n  font-size: 12px;\n  line-height: 12px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./badge.vue?vue&type=template&id=8d779dba&scoped=true&\"\nimport script from \"./badge.vue?vue&type=script&lang=js&\"\nexport * from \"./badge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./badge.vue?vue&type=style&index=0&id=8d779dba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d779dba\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"dish-wrap\" @click=\"boxPressHandler\">\n    <div class=\"dish-tag\" v-if=\"data.tag\">\n      <badge :text=\"data.tag\" :color=\"dishTagColors\" inverted shape=\"triangle\" />\n    </div>\n    <img class=\"dish-img\" v-if=\"data.media[0]\" :src=\"data.media[0]\" />\n    <div class=\"dish-img\" v-else />\n    <div class=\"dish-info\">\n    \t<div class=\"info-top\">\n        <div class=\"dish-name-wrap\">\n        \t<span class=\"dish-name\">{{ data.name }}</span>\n        </div>\n        <span class=\"describe\" v-if=\"data.describe\">{{ data.describe }}</span>\n      </div>\n      <div class=\"info-bottom flex-row align-right justify-between\">\n      \t<div class=\"price-discount\">\n      \t\t<div class=\"price\" v-if=\"couponPrice > 0\">\n      \t\t  <!-- 当没有saledPrice参数时不显示第一个price-text组件，且第二个组件的disabled为false -->\n      \t\t\t<price-text :amount=\"couponPrice\" size=\"large\" />\n      \t\t  <price-text :amount=\"data.price\" :disabled=\"priceDisabled\" size=\"large\" />\n      \t\t</div>\n      \t\t<div class=\"discount\" v-if=\"priceDisabled\">\n      \t\t\t<promotional-tag color=\"#FF8558\" :text=\"discount || ''\" />\n      \t\t  <span v-if=\"data.limitCopies\" class=\"limit-copies\">优惠限{{ data.limitCopies }}份</span>\n      \t\t</div>\n      \t</div>\n        <div class=\"btn-operate flex-column\">\n        \t<button :class=\"{ 'btn-receive': true, 'btn-disabled': couponDisabled || couponReceiveOver }\" \n            @click.stop=\"receiveHandler\" \n            :disabled=\"couponDisabled\"\n          >{{ btnText }}</button>\n          <van-progress v-if=\"!couponDisabled\"\n            class=\"progress\" \n            :inactive=\"couponReceiveOver\" \n            :pivot-text=\"`剩余${leftPercent}%`\" \n            :percentage=\"leftPercent\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PromotionalTag from './promotional-tag.vue';\nimport PriceText from './price-text.vue';\nimport Badge from './badge.vue';\nimport Progress from 'vant/lib/progress';\nimport 'vant/lib/progress/style';\n\nexport default {\n  components: {\n    PromotionalTag,\n    PriceText,\n    Badge,\n    [Progress.name]: Progress,\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n    },\n    couponData: {\n      type: Object,\n      required: true,\n    },\n    couponPrice: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    priceDisabled() {\n      return this.couponPrice > 0 && this.data.price > this.couponPrice;\n    },\n    discount() {\n      return this.priceDisabled ? ((this.couponPrice / this.data.price * 10).toFixed(1) + '折') : '';\n    },\n    dishTagColors() {\n      const colorMap = {\n        '招牌': ['#FFCC25', '#333333'],\n        '优惠组合': ['#333333', '#FFCC25'],\n      };\n      \n      return colorMap[this.data.tag] || '#ff0047';\n    },\n    couponDisabled() {\n      return this.couponData.status.toString() === '0';\n    },\n    couponReceiveOver() {\n      return this.leftPercent <= 0;\n    },\n    btnText() {\n      if (this.couponDisabled) {\n        return '已过期';\n      }\n      if (this.leftPercent <= 0) {\n        return '已领完';\n      }\n      return this.couponPrice > 0 ? '抢券' : '领券';\n    },\n    leftPercent() {\n      let { limitAmount, receivedAmount } = this.couponData;\n      let leftPercent = (limitAmount - receivedAmount) / limitAmount * 100;\n      console.log(limitAmount, receivedAmount);\n      return Math.round(leftPercent);\n    }\n  },\n  methods: {\n    boxPressHandler() {\n      this.$emit('box-press');\n    },\n    receiveHandler() {\n      this.$emit('btn-press');\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dish-wrap {\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  margin-right: $page-margin-width;\n  // min-height: 170px;\n}\n.dish-tag {\n  position: absolute;\n  top: -3px;\n  left: 0;\n}\n.dish-name-wrap {\n  margin-bottom: 4px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.dish-spicy-level {\n  color: #ff0000;\n  font-size: 14px;\n}\n.dish-name {\n  font-size: $font-text;\n  color: $color-gray-4;\n}\n.dish-img {\n  width: 80px;\n  height: 80px;\n  border-radius: $b-rds-10;\n  flex-shrink: 0;\n  background: $color-gray-bg;\n}\n.dish-info {\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n  justify-content: space-between;\n  flex-grow: 1;\n}\n.info-top {\n  display: flex;\n  flex-direction: column;\n}\n.info-bottom {\n  margin-top: 26px;\n}\n.price-discount {\n  display: flex;\n  flex-direction: column;\n}\n.describe {\n  font-size: $font-explain;\n  line-height: $font-explain + 4;\n  color: $color-gray-2;\n  @include line-2-overflow-hidden;\n}\n.promo-tags {\n  margin-top: 8px;\n}\n.tag-item {\n  margin-right: 10px;\n}\n.price {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 4px;\n  align-items: center;\n}\n.discount {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.limit-copies {\n  font-size: 20px;\n  color: $color-gray-3;\n  margin-left: 4px;\n}\n.btn-operate {\n  // flex-basis: 138rpx;\n}\n.progress {\n  margin-top: 14px;\n}\n.btn-receive {\n  @extend .u-btn;\n}\n.btn-disabled {\n  opacity: 0.5;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dish-hori-rack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dish-hori-rack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dish-hori-rack.vue?vue&type=template&id=d840ba78&scoped=true&\"\nimport script from \"./dish-hori-rack.vue?vue&type=script&lang=js&\"\nexport * from \"./dish-hori-rack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dish-hori-rack.vue?vue&type=style&index=0&id=d840ba78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d840ba78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",on:{\"click\":_vm.boxPressHandler}},[_c('div',{staticClass:\"flex-row justify-between align-center\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.couponData.name))]),(_vm.couponData.couponStr)?_c('span',{staticClass:\"describe\"},[_vm._v(_vm._s(_vm.couponData.couponStr))]):_vm._e()]),(_vm.couponData.useLimitStrArray.length > 0)?_c('div',{staticClass:\"use-limit\"},[_vm._v(_vm._s(_vm.couponData.useLimitStrArray.join(' / ')))]):_vm._e(),_c('div',{staticClass:\"info-bottom flex-row justify-between\"},[_c('div',[(_vm.couponPrice > 0)?_c('price-text',{attrs:{\"amount\":_vm.couponPrice,\"size\":\"large\"}}):_vm._e()],1),_c('div',{staticClass:\"flex-column\"},[_c('button',{class:{ 'btn-receive': true, 'btn-disabled': _vm.couponDisabled || _vm.couponReceiveOver },attrs:{\"disabled\":_vm.couponDisabled || _vm.couponReceiveOver},on:{\"click\":function($event){$event.stopPropagation();return _vm.receiveHandler($event)}}},[_vm._v(_vm._s(_vm.btnText))]),(!_vm.couponDisabled)?_c('van-progress',{staticClass:\"progress\",attrs:{\"inactive\":_vm.couponReceiveOver,\"pivot-text\":(\"剩余\" + _vm.leftPercent + \"%\"),\"percentage\":_vm.leftPercent}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Date: 2020-08-24 15:41:49\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 12:44:41\n-->\n<template>\n\t<div class=\"container\" @click=\"boxPressHandler\">\n\t\t<div class=\"flex-row justify-between align-center\">\n      <span class=\"name\">{{ couponData.name }}</span>\n      <span class=\"describe\" v-if=\"couponData.couponStr\">{{ couponData.couponStr }}</span>\n    </div>\n    <div v-if=\"couponData.useLimitStrArray.length > 0\" class=\"use-limit\">{{ couponData.useLimitStrArray.join(' / ') }}</div>\n    <div class=\"info-bottom flex-row justify-between\">\n      <div>\n        <price-text v-if=\"couponPrice > 0\" :amount=\"couponPrice\" size=\"large\" />\n      </div>\n      <div class=\"flex-column\">\n        <button :class=\"{ 'btn-receive': true, 'btn-disabled': couponDisabled || couponReceiveOver }\" \n          @click.stop=\"receiveHandler\"\n          :disabled=\"couponDisabled || couponReceiveOver\"\n        >{{ btnText }}</button>\n        <van-progress v-if=\"!couponDisabled\" \n          class=\"progress\" \n          :inactive=\"couponReceiveOver\" \n          :pivot-text=\"`剩余${leftPercent}%`\" \n          :percentage=\"leftPercent\"\n        />\n      </div>\n    </div>\n\t</div>\n</template>\n\n<script>\nimport PromotionalTag from './promotional-tag.vue';\nimport PriceText from './price-text.vue';\nimport Progress from 'vant/lib/progress';\nimport 'vant/lib/progress/style';\n\nexport default {\n  props: {\n    couponData: {\n      type: Object,\n      required: true,\n    },\n    couponPrice: {\n      type: Number,\n      default: 0,\n    },\n  },\n  components: {\n    PromotionalTag,\n    PriceText,\n    [Progress.name]: Progress,\n  },\n  computed: {\n    couponDisabled() {\n      return this.couponData.status.toString() === '0';\n    },\n    couponReceiveOver() {\n       return this.leftPercent <= 0;\n    },\n    btnText() {\n      if (this.couponDisabled) {\n        return '已过期';\n      }\n      if (this.leftPercent <= 0) {\n        return '已领完';\n      }\n      return this.couponPrice > 0 ? '抢券' : '领券';\n    },\n    leftPercent() {\n      let { limitAmount, receivedAmount } = this.couponData\n      let leftPercent = (limitAmount - receivedAmount) / limitAmount * 100;\n      return Math.round(leftPercent);\n    }\n  },\n  methods: {\n    boxPressHandler() {\n      this.$emit('box-press');\n    },\n    receiveHandler() {\n      this.$emit('btn-press');\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 10px;\n}\n.name {\n  font-size: $font-title-4;\n  color: $color-gray-4;\n  font-weight: bolder;\n}\n.describe {\n  font-size: $font-text-secondary;\n  color: $color-gray-4;\n}\n.use-limit {\n  margin-top: 4px;\n  font-size: $font-text-secondary;\n  color: $color-gray-2;\n}\n.info-bottom {\n  margin-top: 20px;\n  .btn-receive {\n    @extend .u-btn;\n  }\n  .btn-disabled {\n    opacity: 0.5;\n  }\n  .progress {\n    margin-top: 14px;\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./amount-sales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./amount-sales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./amount-sales.vue?vue&type=template&id=4c6908ba&scoped=true&\"\nimport script from \"./amount-sales.vue?vue&type=script&lang=js&\"\nexport * from \"./amount-sales.vue?vue&type=script&lang=js&\"\nimport style0 from \"./amount-sales.vue?vue&type=style&index=0&id=4c6908ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c6908ba\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Date: 2020-08-14 11:47:53\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 12:55:08\n-->\n<!--\n * @Date: 2020-08-14 11:47:53\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-24 15:39:06\n-->\n<template>\n  <div v-if=\"loading\" class=\"flex-column align-center loading-wrap\">\n    <van-loading size=\"24px\">加载中...</van-loading>\n  </div>\n  <div class=\"flex-column\" v-else>\n    <div class=\"dish-item-wrap\" v-for=\"couponInfo in couponInfos\" :key=\"couponInfo.id\">\n      <dish-hori-rack v-if=\"couponInfo.couponData.dishes_id && couponDishInfos[couponInfo.couponData.dishes_id]\" \n        :couponData=\"couponInfo\"\n        :data=\"couponDishInfos[couponInfo.couponData.dishes_id]\"\n        :couponPrice=\"couponInfo.price\"\n        @box-press=\"boxPressHandler(couponInfo, couponDishInfos[couponInfo.couponData.dishes_id])\"\n        @btn-press=\"btnPressHandler(couponInfo, couponDishInfos[couponInfo.couponData.dishes_id])\"\n      />\n      <amount-sales v-else \n        :couponData=\"couponInfo\" \n        :couponPrice=\"couponInfo.price\"\n        @box-press=\"boxPressHandler(couponInfo, {})\"\n        @btn-press=\"btnPressHandler(couponInfo, {})\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport EL from 'view-program-lib';\nimport Loading from 'vant/lib/loading';\nimport 'vant/lib/loading/style';\nimport dishHoriRack from './dish-hori-rack.vue';\nimport AmountSales from './amount-sales.vue';\n\n// const { request } = EL.Page();\nexport default {\n  props: {\n    listData: {\n      type: Array,\n      required: true,\n    },\n    showPrepurchaseCoupon: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  components: {\n    dishHoriRack,\n    AmountSales,\n    [Loading.name]: Loading,\n  },\n  data() {\n    return {\n      loading: false,\n      page: 1,\n      row: 10,\n      couponInfos: [],\n      couponDishInfos: {},\n    };\n  },\n  watch: {\n    listData(newVal) {\n      this.page = 1;\n      this.couponInfos = [];\n      this.getPageCouponInfo();\n    }\n  },\n  mounted() {\n    this.getPageCouponInfo();\n  },\n  computed: {\n    requestCoupon() {\n      let start = (this.page - 1) * this.row;\n      let end = this.page * this.row;\n      return this.listData.slice(start, end);\n    }\n  },\n  methods: {\n    async getPageCouponInfo() {\n      if (this.requestCoupon.length > 0) {\n        let couponInfos = await EL.getCouponInfo(this.requestCoupon.map(({ id }) => id));\n        this.requestCoupon.forEach(({ id, price }) => couponInfos[id].price = price);\n        this.couponInfos.push(...Object.values(couponInfos).filter(item => item && !item.disabled));\n        this.page++;\n        \n        // 如果有菜品相关优惠券则去获取菜品数据\n        let couponDishIds = this.couponInfos.map(({ couponData }) => couponData.dishes_id).filter(item => item);\n        this.couponDishInfos = await EL.getDishInfo(couponDishIds);\n        Object.values(this.couponDishInfos).forEach(dishInfo => dishInfo.tag = dishInfo.suitsDishes ? '优惠组合' : dishInfo.tag);\n      }\n    },\n    boxPressHandler(couponInfo, couponRefInfo) {\n      this.$emit('item-press', couponInfo, couponRefInfo);\n    },\n    btnPressHandler(couponInfo, couponRefInfo) {\n      this.$emit('item-btn-press', couponInfo, couponRefInfo);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.loading-wrap {\n  padding: 100px 0px;\n}\n.dish-item-wrap {\n  margin: 0 $page-margin-width;\n  margin-bottom: 10px;\n  border-radius: $b-rds-10;\n  padding: 10px;\n  @include box-shadow(rgba(100, 100, 100, 0.1));\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5e04db6d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5e04db6d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e04db6d\",\n  null\n  \n)\n\nexport default component.exports","/*\n * @Date: 2020-06-02 15:22:39\n * @LastEditors: JOU(wx: huzhen555)\n * @LastEditTime: 2020-08-25 11:44:30\n */ \nimport App from './App.vue';\nimport Error from './Error.vue';\nimport EL from 'view-program-lib';\nimport { parseKeyParams } from './common/util';\nimport { programScriptUrl } from './common/config';\nimport * as presetComponent from './preset-components';\n\nwindow.EL = EL;\nconst { Vue } = EL.Page();\nVue.config.productionTip = false;\n\n// 将预设的组件注册到全局里\nObject.keys(presetComponent).forEach(name => {\n  Vue.component(name, presetComponent[name]);\n});\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#__MARKETING_AD__');\n\n// 开发环境下，当VUE_APP_DEV_CROSS的值为1时表示需要跨库调试，此时才需要请求远程插件代码\nif (process.env.NODE_ENV === 'production' || process.env.VUE_APP_DEV_CROSS === '1') {\n  // 解析地址，获取关键参数并放到header中\n  let keyParams = parseKeyParams(window.location.pathname);\n  let scriptNode = document.createElement('script');\n  scriptNode.setAttribute('type', 'text/javascript');\n  scriptNode.setAttribute('src', programScriptUrl(keyParams));\n  scriptNode.addEventListener('error', () => {\n    new Vue({\n      render: h => h(Error)\n    }).$mount('#__MARKETING_AD__');\n  });\n  document.head.appendChild(scriptNode);\n}","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotional-tag.vue?vue&type=style&index=0&id=098739c4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./promotional-tag.vue?vue&type=style&index=0&id=098739c4&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5e04db6d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5e04db6d&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dish-hori-rack.vue?vue&type=style&index=0&id=d840ba78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dish-hori-rack.vue?vue&type=style&index=0&id=d840ba78&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./union-shop-collection.vue?vue&type=style&index=0&id=0dbcd1ec&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./union-shop-collection.vue?vue&type=style&index=0&id=0dbcd1ec&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=style&index=0&id=8d779dba&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./badge.vue?vue&type=style&index=0&id=8d779dba&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./amount-sales.vue?vue&type=style&index=0&id=4c6908ba&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./amount-sales.vue?vue&type=style&index=0&id=4c6908ba&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorMain\":\"#ff0047\",\"colorMainShallow\":\"#ff5f58\",\"colorGray1\":\"#ccc\",\"colorGray2\":\"#999\",\"colorGray3\":\"#666\",\"colorGray4\":\"#333\",\"colorSuccessGreen\":\"#60CC1C\",\"colorGolden\":\"#edcb88\",\"colorGoldenBg\":\"#fff8e9\",\"fontTitle1\":\"34px\",\"fontTitle2\":\"25px\",\"fontTitle3\":\"20px\",\"fontTitle4\":\"18px\",\"fontText\":\"16px\",\"fontTextSecondary\":\"14px\",\"fontAuxiliary\":\"13px\",\"fontExplain\":\"11px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorMain\":\"#ff0047\",\"colorMainShallow\":\"#ff5f58\",\"colorGray1\":\"#ccc\",\"colorGray2\":\"#999\",\"colorGray3\":\"#666\",\"colorGray4\":\"#333\",\"colorSuccessGreen\":\"#60CC1C\",\"colorGolden\":\"#edcb88\",\"colorGoldenBg\":\"#fff8e9\",\"fontTitle1\":\"34px\",\"fontTitle2\":\"25px\",\"fontTitle3\":\"20px\",\"fontTitle4\":\"18px\",\"fontText\":\"16px\",\"fontTextSecondary\":\"14px\",\"fontAuxiliary\":\"13px\",\"fontExplain\":\"11px\"};","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unpayed.vue?vue&type=style&index=0&id=1cddddd0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unpayed.vue?vue&type=style&index=0&id=1cddddd0&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Error.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}