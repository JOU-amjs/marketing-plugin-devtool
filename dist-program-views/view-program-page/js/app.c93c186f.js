(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"11f5":function(t,e,n){},1815:function(t,e,n){},1921:function(t,e,n){"use strict";var r=n("db27"),i=n.n(r);i.a},2216:function(t,e,n){},2964:function(t,e,n){"use strict";var r=n("c3fa"),i=n.n(r);i.a},"2f6e":function(t,e,n){},"384c":function(t,e,n){},"39f0":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"UnionShopCollection",(function(){return De})),n.d(r,"CouponExpression",(function(){return gn}));var i={};n.r(i),n.d(i,"assetsPath",(function(){return bn}));n("4de4"),n("4160"),n("b64b"),n("159b"),n("0c26"),n("666b"),n("527a"),n("4586");var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"production"===t.nodeEnv||t.isCross?n("div",{attrs:{id:"__MARKETING_AD__"}}):n("template-index")},a=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("span",[t._v("你有2个消费券未支付完成")]),n("span",[t._v("去完成")])])}],u={},l=u,d=(n("f1ce"),n("2be6")),p=Object(d["a"])(l,s,c,!1,null,"1cddddd0",null),f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("union-shop-collection"),n("coupon-expression",{ref:"ce",attrs:{"list-data":t.couponData,"btn-text":"马上抢","item-style":"abc"},on:{"item-press":t.itemPressHandler,"item-btn-press":t.itemBtnPressHandler},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v("123, "+t._s(e))])]}}])}),n("button",{on:{click:t.loadMore}},[t._v("adfasf")])],1)},g=[],v=(n("b0c0"),n("df26"),n("42c2")),b={data:function(){return{current:"",couponData:[]}},methods:{itemPressHandler:function(t,e,n){console.log("item press",t,e,n)},itemBtnPressHandler:function(t,e,n){var r=e.name,i=n.price;console.log("item btn press",r,i)},loadMore:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ce.loadMore();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;setTimeout((function(){t.couponData=[{id:1,price:.2,num:123},{id:3,price:.2},{id:4,price:.2},{id:5,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:6,price:.2,num:123},{id:7,price:.2},{id:8,price:.2},{id:9,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:10,price:.2,num:123},{id:11,price:.2},{id:12,price:.2},{id:13,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:14,price:.2,num:123},{id:15,price:.2},{id:16,price:.2},{id:17,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:18,price:.2,num:123},{id:19,price:.2},{id:20,price:.2},{id:21,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:22,price:.2,num:123},{id:23,price:.2},{id:24,price:.2},{id:25,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9},{id:26,price:.2,num:123},{id:27,price:.2},{id:28,price:.2},{id:29,price:.2,btnDisabled:!0,btnLoading:!0,progress:.9}]}),1e3)}},m=b,y=(n("6be1"),Object(d["a"])(m,h,g,!1,null,"679ce626",null)),w=y.exports,x=(n("82da"),{components:{Unpayed:f,TemplateIndex:w},data:function(){return{isCross:"1"===Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEV_CROSS}},computed:{nodeEnv:function(){return"production"}}}),_=x,I=(n("5c0b"),Object(d["a"])(_,o,a,!1,null,null,null)),C=I.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"__ERROR__"}},[n("div",{staticClass:"error-text"},[n("span",[t._v("o(╥﹏╥)o")]),n("span",[t._v("您访问的活动不存在！")])])])}],P={},j=P,D=(n("f2b0"),Object(d["a"])(j,O,S,!1,null,null,null)),k=D.exports,E=(n("3365"),n("ec82"),n("49f8"),n("7583"),n("8d74"),n("d298"),n("3415"),n("08bc"),n("6c4f"),n("3c35"),n("e8fb6"),n("6851"),n("d800"),n("0a3f"),n("b89b"),n("cc26"),n("34ad"),n("a274"),n("4621"),n("a664"),n("667b"),n("c855"),n("941a"),n("4e51"),n("4fd5"),n("ba20"),n("9e33"),n("e300")),T=n("9869"),M=n("5f2b"),A=n("9ce4"),R=n("8206"),L=n.n(R),N=n("b33e"),H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},H.apply(this,arguments)};function $(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function q(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var G="mpWx",U="mpAlipay",B="browser",z="node";function F(){var t="";try{t=window.location.href}catch(e){t=""}return/devMode=1/.test(t)?"plugin-dev":/devMode=2/.test(t)?"debug":"prod"}var J={};function K(t,e){e?J[t]=e:delete J[t]}var W,V={set:function(t,e){var n,r="object"===Object(E["a"])(t)?t:(n={},n[t]=e,n);for(var i in r)K(i,r[i])},get:function(t){var e=Object(E["a"])(t);if("string"===e||"number"===e)return J[t]}};function Y(t){var e=F();return t[e]||""}var X,Q=location.hostname,Z=Y({"plugin-dev":"http://"+Q+":18001",prod:"https://api.ycsh6.com",debug:"http://localhost:7001"}),tt=Y({"plugin-dev":"https://api.java.ycsh6.com",prod:"https://api.java.ycsh6.com",debug:"https://api.java.ycsh6.com"}),et={connectSymbol:"-",key:"sd8mow3RPMDS0PMPmMP98AS2RG43T"},nt=(W={},W[G]={activity:{id:"i5sdedogJeiICuz0dfX-FC2yBdRdkwwcxCg1okRmnys",dataNames:["name3","name2","thing1","thing4"],errorText:"notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据"},payResult:{id:"xxxxx",dataNames:["name1"],errorText:"notifyData中必须包含名称数据"}},W[U]={activity:{id:"",dataNames:[],errorText:"notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据"},payResult:{id:"",dataNames:[],errorText:"notifyData中必须包含受邀人、邀请人、活动名称、温馨提示4个数据"}},W),rt="/pages/webview-container/webview-container";try{X=window}catch(Cn){X={}}var it=X.wx;function ot(){var t="";try{t=window.navigator.userAgent.toLowerCase()}catch(Cn){t="nodejs"}return-1!==t.indexOf("miniprogram")?G:-1!==t.indexOf("alipay miniprogram")?U:-1!==t.indexOf("node")?z:B}function at(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),Object.keys(n).forEach((function(e){t=t.replace("{"+e+"}",n[e].toString())}));var r=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");return r&&(r=(t.indexOf("?")>=0?"&":"?")+r),t+r}function st(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o={}),r="/"===r.substr(0,1)?r.substr(1):r,r=r?"/"===r.substr(-1)?r:r+"/":r;var a=lt(o),s={accessToken:V.get("accessToken")||""},c=V.get("mode");return"plugin-dev"===c?s.devMode=1:"debug"===c&&(s.devMode=2),at("/{pluginId}/{activityId}/{shopId}/online/{webPagePath}",s,{pluginId:t,activityId:e,shopId:n,webPagePath:r})+"#/"+(i+a)}function ct(t,e){return void 0===e&&(e={}),$(this,void 0,void 0,(function(){var n;return q(this,(function(r){return n=ot(),[2,new Promise((function(r,i){var o=at(t,e);if(n===G)it.miniProgram.navigateTo({url:o,success:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},fail:function(t){return i(t)}});else{if(n===U)throw new Error("暂不支持支付宝小程序");if(n===B){if(!/^https?/.test(t)){var a=dt(t);a.query=JSON.parse(decodeURIComponent(a.query||"")||"{}"),t=st(a.pluginId,a.activityId,a.shopId,a.path,a.routePath,a.query)}location.href=t}}}))]}))}))}function ut(t){return void 0===t&&(t=1),$(this,void 0,void 0,(function(){var e;return q(this,(function(n){return e=ot(),[2,new Promise((function(n,r){e===G&&it.miniProgram.navigateBack({delta:t,success:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(t)},fail:function(t){return r(t)}})}))]}))}))}function lt(t,e){void 0===t&&(t={}),void 0===e&&(e=!0);var n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");return e&&(n=(n?"?":"")+n),n}function dt(t){var e={};return(t.match(/\?(.*)$/)||["",""])[1].split("&").forEach((function(t){var n=t.split("=");2===n.length&&(e[n[0]]=n[1])})),e}function pt(t){void 0===t&&(t="");var e={pluginId:"",activityId:"",shopId:""};t="/"===t.substr(0,1)?t.substr(1):t;var n=t.split("/"),r=n.indexOf("online");if(r<=-1)throw new Error("current url is not a online program's url");return n=n.slice(0,r),e.pluginId=n[0]||"",e.activityId=n[1]||"",e.shopId=n[2]||"",e}function ft(t){return void 0===t&&(t=!0),(V.get("activityId")||"")+(V.get("token")||"")+(t?"-echo":"")}function ht(t,e,n,r){void 0===r&&(r=!0);var i={};return e&&(i.routePath=e),n&&(i.query=encodeURIComponent(JSON.stringify(n))),at(r?rt:"",H({activityId:V.get("activityId")||"",pluginId:V.get("pluginId")||"",shopId:V.get("shopId")||"",path:t},i))}function gt(t){var e=function(t){return t>=0&&t<10?"0"+t:t.toString()};return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())}delete X.wx,delete X.jWeixin;var vt=new N["a"](et.connectSymbol,et.key);function bt(t){t.interceptors.request.use((function(t){var e,n=ot(),r=V.get("accessToken")||"",i=Date.parse((new Date).toString())/1e3,o=t.method||"get";return e=/^put|post|patch|delete$/i.test(o)?t.data=t.data||{}:t.params=t.params||{},Object.assign(e,{platform:n,timestamp:i}),e.sign=vt.create(e),t.headers=H(H({},t.headers||{}),{"Content-Type":"application/json;charset=utf-8"}),r&&(t.headers[o.toLowerCase()||"get"]["x-access-token"]=r),t}),(function(t){Promise.reject(t)})),t.interceptors.response.use((function(t){return 200===t.status?200===t.data.code?t:Promise.reject(new Error(t.data.msg)):Promise.reject(t)}),(function(t){return Promise.reject(t.response)}))}var mt=L.a.create({baseURL:Z,timeout:3e4});bt(mt);var yt,wt=L.a.create({baseURL:tt,timeout:3e4});bt(wt);var xt={},_t=function(t,e,n){"function"===typeof e&&"string"===typeof t&&(xt[t]={once:!1,fn:e})},It={init:function(t){t&&(yt=t,window.addEventListener("message",(function(t){var e=t.data,n=xt[e.name];n&&(n.fn.apply(null,e.args),n.once&&delete xt[e.name])})))},on:function(t,e){_t(t,e)},once:function(t,e){_t(t,e)},emit:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];yt&&yt.postMessage({name:t,args:e},"*")}};function Ct(t){var e=t.path,n=t.routePath,r=t.query;return"plugin-dev"===F()&&It.emit("navigate",{path:e,routePath:n,query:r}),ct(ht(e,n,r))}function Ot(t){return $(this,void 0,void 0,(function(){return q(this,(function(e){return[2,ut(t)]}))}))}function St(t){t&&(document.title=t,"plugin-dev"===F()&&It.emit("titleChanged",t))}function Pt(t){var e=location.hash.match(/^(.*?)(\?.*)?$/)||["","",""],n=dt(e[2]);n.shareMessage=encodeURIComponent(JSON.stringify(t));var r=at(e[1],n);window.history.replaceState(null,"",r)}function jt(t){return V.get(t)||""}var Dt=Object.freeze({__proto__:null,mpNavigateTo:Ct,mpNavigateBack:Ot,setTitle:St,updateShareMessage:Pt,getUrlParam:jt}),kt=["beforeEach","beforeResolve","afterEach"];function Et(t,e){if(void 0===t&&(t={}),void 0===e&&(e={title:""}),Object.keys(t).length<=0)return{Vue:T["a"],VueRouter:M["a"],Vuex:A["a"],request:mt,javaRequest:wt,config:{shopId:V.get("shopId")||"",activityId:V.get("activityId")||"",pluginId:V.get("pluginId")||""}};var n=void 0,r=e.routers,i=e.stores,o=e.plugins,a=e.shareMessage,s=e.title,c=e.navColor;"object"===Object(E["a"])(r)&&Array.isArray(r.routes)&&r.routes.length>0&&(T["a"].use(M["a"]),n=new M["a"](r),kt.forEach((function(t){r&&n&&"function"===typeof r[t]&&n[t](r[t])})));var u=void 0;"object"===Object(E["a"])(i)&&Object.keys(i).length>0&&(T["a"].use(A["a"]),u=new A["a"].Store(i)),Array.isArray(o)&&o.length>0&&o.forEach((function(t){var e=t[0],n=t[1];T["a"].use(e,n)}));var l={shareMessage:a,navColor:c};if(V.set("mpInitData",l),"plugin-dev"===F()?(It.init(window.parent),It.on("configData",(function(t){V.set("shopConfiguration",t),console.log("%c 接收提示","background:green;color:white","插件视图(线上)已收到配置数据更改通知")})),It.emit("pageConfig",l)):wt.post("/user/interact/save",{key:V.get("pluginId"),value:l}),"string"===typeof s)St(s);else if("function"===typeof s){var d=s();"string"===typeof d?St(d):d instanceof Promise&&d.then((function(t){"string"===typeof t&&St(t)}))}new T["a"]({router:n,store:u,render:function(e){return e(t)}}).$mount("#app")}function Tt(t){return $(this,void 0,void 0,(function(){var e,n,r;return q(this,(function(i){switch(i.label){case 0:return e=V.get("activityId"),n=V.get("shopId"),[4,mt.post("/v1/call_viewprogramme_function",H({activityId:e,shopId:n},t))];case 1:if(r=i.sent().data,200!==r.code)throw new Error(r.msg);return[2,r.data]}}))}))}function Mt(t){var e=this;return new Promise((function(n,r){if(t)var i=setInterval((function(){return $(e,void 0,void 0,(function(){var e,o;return q(this,(function(a){switch(a.label){case 0:return[4,wt.get("/user/interact/get",{params:{key:t}})];case 1:return e=a.sent().data,o=e.data,200===e.code&&o?(wt.get("/user/interact/notify",{params:{key:t}}),clearInterval(i),o.exception?r(o.exception):n(o.response),[2]):[2]}}))}))}),1500);else r("echoKey不能为空")}))}var At="/pages/interact-webview-miniprogram/interact-webview-miniprogram",Rt={COUPON_PURCHASE:"couponPurchase",RECHARGE:"recharge"};function Lt(t){return $(this,void 0,void 0,(function(){var e,n,r,i,o;return q(this,(function(a){switch(a.label){case 0:return Object(N["b"])(Object.values(Rt).indexOf(t.intent)>=0,"intent不正确，请使用`EL.payIntent`中的属性"),Object(N["b"])(t.amount>0,"支付金额必须大于0，单位(元)"),"couponPurchase"===t.intent&&Object(N["b"])(t.couponGroupId,"购买卡券支付时，需传入couponGroupId"),"plugin-dev"!==F()?[3,3]:(e={payOptions:t},"couponPurchase"===t.intent&&t.couponGroupId?(n=e,[4,zt(t.couponGroupId)]):[3,2]);case 1:n.couponInfo=a.sent(),a.label=2;case 2:return It.emit("pay",e),[2,new Promise((function(t,e){It.once("payComplete",(function(n){return n?t():e(new Error("取消支付"))}))}))];case 3:return r=ft(),i=V.get("activityId"),o=V.get("shopId"),ct(At,{data:encodeURIComponent(JSON.stringify({intent:"pay",echoKey:r,payload:{payOptions:t,activityId:i,shopId:o}}))}),[2,Mt(r)]}}))}))}function Nt(t,e,n){return $(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,d,p,f,h,g,v;return q(this,(function(b){switch(b.label){case 0:if(r=Object.keys(t),Object(N["b"])(r.length>0,"请至少订阅一条消息"),Object.keys(t).forEach((function(e){var n=t[e],r=n.timing,i=n.channel,o=n.notifyData;Object(N["b"])(r instanceof Date||"string"===typeof i,"[MESSAGE_CODE:"+e+"]必须指定timing或channel其中之一"),Object(N["b"])(o.length>0,"[MESSAGE_CODE:"+e+"]模板数据不能为空")})),i=ot(),i!==G&&i!==U)throw new Error("'"+i+"'平台上不支持订阅消息");return o={},a=nt[i],s=r.map((function(e){var n=a[e];if(n){var r=t[e].notifyData||[];if(!(r.length>=n.dataNames.length))throw new Error("[消息:"+e+"]"+n.errorText);var i={};n.dataNames.forEach((function(t,e){return i[t]=r[e]})),o[n.id]=i}return n.id})).filter((function(t){return t})),Object(N["b"])(s.length>0,"请传入有效的消息名"),c=ft(),ct(At,{data:encodeURIComponent(JSON.stringify({intent:"notice",echoKey:c,payload:{tmplIds:s,tipText:e,btnText:n}}))}),u={},[4,Mt(c)];case 1:return u=b.sent(),[3,3];case 2:s.forEach((function(t){return u[t]="accept"})),b.label=3;case 3:for(d in l={},a)p=a[d],l[p.id]=d;for(h in f={},u)g=t[l[h]],"accept"===u[h]&&g&&(f[h]={notifyData:o[h],timing:g.timing?gt(g.timing):"",channel:g.channel,path:ht(g.path,g.routePath,g.query,!1)});return[4,Tt({name:"subscribeMessage",data:f})];case 4:return b.sent(),[3,6];case 5:console.log(f),b.label=6;case 6:return v={},Object.keys(u).forEach((function(t){v[l[t]||t]=u[t]})),[2,v]}}))}))}function Ht(t){return $(this,void 0,void 0,(function(){return q(this,(function(e){return"plugin-dev"===F()?It.emit("toShare",t):ct(At,{data:window.encodeURIComponent(JSON.stringify({intent:"share",payload:{title:t.title,imageUrl:t.imageUrl,path:ht(t.path,t.routePath,t.query)}}))}),[2]}))}))}var $t={shopHomepage:"/page-other/shop-homepage/shop-homepage"};function qt(t,e){return void 0===e&&(e={}),$(this,void 0,void 0,(function(){var n;return q(this,(function(r){return n=$t[t],N["b"].notNull(n,"invalid pageCode`"+t+"`"),[2,ct(n,e)]}))}))}var Gt={SIMPLE:0,PERSON:1,LOYALTY:2,WHOLE:3};function Ut(t,e){return void 0===t&&(t=0),void 0===e&&(e=""),$(this,void 0,void 0,(function(){var n,r,i,o;return q(this,(function(a){switch(a.label){case 0:return n=function(){return Tt({name:"getUserInfo",data:{info:t}})},[4,n()];case 1:return r=a.sent(),r&&r.nickname||1!==t&&3!==t?[3,4]:(i=ft(),ct("/pages/login/login",{tips:e,infoLevel:t,echoKey:i,save:"true"}),[4,Mt(i)]);case 2:return o=a.sent(),o?[4,n()]:[3,4];case 3:r=a.sent(),a.label=4;case 4:return[2,r]}}))}))}function Bt(t,e){return $(this,void 0,void 0,(function(){return q(this,(function(n){return Object(N["b"])(t,"param `groupId` must be given"),[2,Tt({name:"giveCoupon",data:{customerId:e,groupId:t}})]}))}))}function zt(t){return $(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,u,l,d;return q(this,(function(p){switch(p.label){case 0:for(a in N["b"].equalType(t,[Number,String,Array],"groupIds must be given a string or a array of string"),e="couponInfo",n=V.get(e)||{},r=Array.isArray(t)?t:[t],i={},o=[],r)s=r[a],c=n[s],c?i[c.id]=c:o.push(s);return o.length>0?[4,Tt({name:"getCouponInfo",data:{groupId:o}})]:[3,2];case 1:u=p.sent(),l=Date.now(),o.forEach((function(t){var e=u.find((function(e){var n=e.id;return n===t}));e&&(e.expireTime=new Date(1e3*e.expireTime),e.status=e.expireTime.getTime()<l?0:e.status,"string"===typeof e.useLimit&&(e.useLimit=JSON.parse(e.useLimit||"[]")),n[e.id]=e),i[t]=e})),p.label=2;case 2:return Array.isArray(t)?[2,i]:(d=Object.keys(i),[2,d.length>0?i[d[0]]:null])}}))}))}function Ft(t){return $(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,u,l;return q(this,(function(d){switch(d.label){case 0:for(a in N["b"].equalType(t,[String,Array],"dishIds must be given a string or a array of string"),e="dishesInfo",n=V.get(e)||{},r=Array.isArray(t)?t:[t],i={},o=[],r)s=r[a],c=n[s],c?i[c.id]=c:o.push(s);return o.length>0?[4,Tt({name:"getDishInfo",data:{dishId:o}})]:[3,2];case 1:u=d.sent(),o.forEach((function(t){var e=u.find((function(e){var n=e.id;return n===t}));e&&(n[e.id]=e),i[t]=e})),d.label=2;case 2:return Array.isArray(t)?[2,i]:(l=Object.keys(i),[2,l.length>0?i[l[0]]:null])}}))}))}function Jt(){return $(this,void 0,void 0,(function(){var t,e;return q(this,(function(n){switch(n.label){case 0:return t="shopInfo",e=V.get(t),e?[3,2]:[4,Tt({name:"getShopInfo"})];case 1:e=n.sent(),V.set(t,e),n.label=2;case 2:return[2,e]}}))}))}function Kt(t,e,n){return void 0===t&&(t=!1),void 0===e&&(e=1),void 0===n&&(n=50),$(this,void 0,void 0,(function(){var r,i;return q(this,(function(o){switch(o.label){case 0:return r="shopConfiguration",i=V.get(r),i?[3,2]:[4,Tt({name:"getConfiguration",data:{allUnions:t,page:e,pageSize:n}})];case 1:i=o.sent(),V.set(r,i),o.label=2;case 2:return[2,i]}}))}))}function Wt(t){return $(this,void 0,void 0,(function(){return q(this,(function(e){return[2,Tt({name:"notifyMessage",data:{channel:t}})]}))}))}function Vt(t){t=t.toString().trim();var e=V.get("shopId")||"";t&&e!==t&&(location.href=location.href.replace(/\w+(\/\w+\/)online/,(function(e,n){return e.replace(n,"/"+t+"/")})))}var Yt,Xt=Object.freeze({__proto__:null,payIntent:Rt,pay:Lt,subscribeMessage:Nt,share:Ht,navigateELPage:qt,userInfo:Gt,getUserInfo:Ut,giveCoupon:Bt,getCouponInfo:zt,getDishInfo:Ft,getShopInfo:Jt,getConfiguration:Kt,notifyMessage:Wt,changeShop:Vt}),Qt=function(t,e){return t+e.toString()},Zt="__$$namespaced_storage_keys$$__",te=function(t){var e=re[t],n=e.globalThis,r=e.namespace,i=Qt(r,Zt);return{storage:n,keysStoreKey:i,namespace:r,keys:JSON.parse(n.getItem(i)||"[]")}},ee="localStorage",ne="sessionStorage",re=(Yt={},Yt[ee]={globalThis:window.localStorage,namespace:""},Yt[ne]={globalThis:window.sessionStorage,namespace:""},Yt),ie=function(){function t(t,e){re[e].namespace=t,this.storageTag=e;var n=te(e).keys;this.length=n.length}return t.prototype.setItem=function(t,e){var n=te(this.storageTag),r=n.storage,i=n.keys,o=n.keysStoreKey,a=n.namespace,s=i.indexOf(t);return i.length>0&&s>=0?i[s]=t:i.push(t),this.length=i.length,r.setItem(o,JSON.stringify(i)),r.setItem(Qt(a,t),e)},t.prototype.getItem=function(t){var e=te(this.storageTag),n=e.storage,r=e.namespace;return n.getItem(Qt(r,t))},t.prototype.removeItem=function(t){var e=te(this.storageTag),n=e.storage,r=e.keys,i=e.keysStoreKey,o=e.namespace,a=r.indexOf(t);return r.length>0&&a>=0&&r.splice(a,1),this.length=r.length,n.setItem(i,JSON.stringify(r)),n.removeItem(Qt(o,t))},t.prototype.clear=function(){var t=te(this.storageTag),e=t.storage,n=t.keys,r=t.keysStoreKey,i=t.namespace;n.length>0&&n.forEach((function(t){return e.removeItem(Qt(i,t))})),this.length=0,e.removeItem(r)},t.prototype.key=function(t){var e=null,n=te(this.storageTag),r=n.keys,i=n.namespace,o=r[t];return"string"===typeof o&&(e=o.replace(i,"")),e},t}(),oe=dt(window.location.search),ae=dt(window.location.hash),se=pt(window.location.pathname),ce=F();if(V.set(H(H(H(H({},oe),ae),se),{mode:ce})),!se.activityId||!se.shopId)throw new Error("query `activityId` and `shopId` must be given");var ue=se.activityId,le=ue||"",de=new ie(le,ee),pe=new ie(le,ne),fe=Object(N["c"])((function(t){return wt({url:"/mongo/collections/operation",method:"post",data:{activityId:le,pluginId:V.get("pluginId"),env:"plugin-dev"===F()?1:2,db:t}})}));"prod"===ce&&Object.defineProperties(window,{localStorage:{value:de},sessionStorage:{value:pe}});var he=H(H({Page:Et,database:fe},Xt),Dt),ge=he;n("c975"),n("fb6a"),n("ac1f"),n("1276");function ve(t){var e={pluginId:"",activityId:"",shopId:"",page:""};t="/"===t.substr(0,1)?t.substr(1):t;var n=t.split("/"),r=n.indexOf("online");if(r<=-1)throw new Error("current url is not a online program's url");return e.page=n[r+1]||"index",n=n.slice(0,r),e.pluginId=n[0]||"",e.activityId=n[1]||"",e.shopId=n[2]||"",e}n("99af");var be="https://static.ycsh6.com";function me(t){var e=/devMode=1/.test(window.location.href)?"pluginDev":"prod";return t[e]||""}var ye=me({pluginDev:function(t){var e=t.page;return"/".concat(e,".js")},prod:function(t){var e=t.pluginId,n=t.page;return"".concat(be,"/program/").concat(e,"/online/").concat(n,".js?").concat(Math.round(1e9*Math.random()))}}),we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex-column"},[n("h3",{staticClass:"title"},[t._v("活动联合餐厅")]),n("div",{staticClass:"shop-container",on:{scroll:t.containerScrollHandler}},[n("div",{staticClass:"flex-row",style:t.containerStyle},[n("div",{staticClass:"shop-wrap flex-column"},t._l(t.list,(function(e){return n("div",{key:e.id,ref:"shopItem",refInFor:!0,staticClass:"wrap flex-row align-center",style:t.itemStyle},[n("div",{staticClass:"avatar avatar-wrap",on:{click:function(n){return t.nav2Homepage(e.id)}}},[n("img",{staticClass:"avatar",attrs:{src:t._f("assetsPath")(e.avatar,"avatar")}})]),n("div",{staticClass:"content-wrap flex-row align-center justify-between",on:{click:function(n){return t.toggleShop(e.id)}}},[n("div",{staticClass:"content flex-column"},[n("span",{staticClass:"title-4 color-gray-4 name"},[t._v(t._s(e.shopName))]),n("span",{staticClass:"text-auxiliary color-gray-2"},[t._v(t._s(e.shortIntro))])]),t._m(0,!0)])])})),0),t.showLoading?n("div",{staticClass:"loading flex-row align-center"},[n("van-loading",{attrs:{type:"spinner",size:20,"text-size":13,vertical:""}},[t._v("加"),n("br"),t._v("载"),n("br"),t._v("中")])],1):t._e()])])])},xe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-access clickable"},[n("span",{staticClass:"iconfont iconjinru"})])}],_e=(n("a9e3"),n("7c6c")),Ie=ge.Page(),Ce=Ie.javaRequest,Oe=Ie.config,Se={props:{row:{type:Number,default:3,validator:function(t){return t>=1&&t<=3}}},data:function(){return{itemWidth:.84*document.body.offsetWidth,itemHeight:70,page:1,hasMore:!0,loading:!1,list:[]}},computed:{containerStyle:function(){var t=Math.ceil(this.list.length/this.row),e=Math.min(this.list.length,this.row),n=this.showLoading?30:0;return{width:t*(this.itemWidth+32)+n+"px",height:e*(this.itemHeight+12)+"px"}},itemStyle:function(){return{width:this.itemWidth+"px",height:this.itemHeight+"px"}},showLoading:function(){return this.loading||this.hasMore}},methods:{nav2Homepage:function(t){ge.navigateELPage("shopHomepage",{shopId:t})},toggleShop:function(t){ge.changeShop(t)},requestList:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.hasMore||t.loading){e.next=12;break}return t.loading=!0,r=3===t.row?9:10,e.next=5,Ce.get("/shops/activities/".concat(Oe.activityId,"/shops"),{params:{status:"1,3",pageNum:t.page,pageSize:r}});case 5:i=e.sent,o=i.data,t.loading=!1,t.page++,a=o.data.list,(n=t.list).push.apply(n,Object(_e["a"])(a)),a.length<r&&(t.hasMore=!1);case 12:case"end":return e.stop()}}),e)})))()},containerScrollHandler:function(t){var e=t.target;e.scrollWidth-e.scrollLeft-20<=e.offsetWidth&&this.hasMore&&!this.loading&&this.requestList()}},mounted:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.requestList();case 2:t.$nextTick((function(){var e=t.$refs.shopItem;e.length>0&&(t.itemWidth=e[0].offsetWidth,t.itemHeight=e[0].offsetHeight)}));case 3:case"end":return e.stop()}}),e)})))()}},Pe=Se,je=(n("edd0"),Object(d["a"])(Pe,we,xe,!1,null,"c5eb1cf0",null)),De=je.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",{staticClass:"flex-column align-center loading-wrap"},[n("van-loading",{attrs:{size:"24px"}},[t._v("加载中...")])],1):n("div",{staticClass:"flex-column"},t._l(t.couponInfos,(function(e){return n("div",{key:e.id,class:["dish-item-wrap","string"===typeof t.itemStyle?t.itemStyle:""],style:"object"===typeof t.itemStyle?t.itemStyle:""},[e.couponData.dishes_id&&t.couponDishInfos[e.couponData.dishes_id]?n("dish-hori-rack",{attrs:{"coupon-data":e,data:t.couponDishInfos[e.couponData.dishes_id],"coupon-price":t.listDataMap[e.id].price,"btn-text":t.btnText,"btn-disabled":t.listDataMap[e.id].btnDisabled,"btn-loading":t.listDataMap[e.id].btnLoading,progress:t.listDataMap[e.id].progress},on:{"box-press":function(n){return t.boxPressHandler(e,t.couponDishInfos[e.couponData.dishes_id])},"btn-press":function(n){return t.btnPressHandler(e,t.couponDishInfos[e.couponData.dishes_id])}}}):n("amount-sales",{attrs:{"coupon-data":e,"coupon-price":t.listDataMap[e.id].price,"btn-text":t.btnText,"btn-disabled":t.listDataMap[e.id].btnDisabled,"btn-loading":t.listDataMap[e.id].btnLoading,progress:t.listDataMap[e.id].progress},on:{"box-press":function(n){return t.boxPressHandler(e,{})},"btn-press":function(n){return t.btnPressHandler(e,{})}}})],1)})),0)},Ee=[],Te=(n("d81d"),n("07ac"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dish-wrap",on:{click:t.boxPressHandler}},[t.data.tag?n("div",{staticClass:"dish-tag"},[n("badge",{attrs:{text:t.data.tag,color:t.dishTagColors,inverted:"",shape:"triangle"}})],1):t._e(),t.data.media[0]?n("van-image",{staticClass:"dish-img",attrs:{fit:"cover","lazy-load":"",src:t._f("assetsPath")(t.data.media[0],"dishes")}}):n("div",{staticClass:"dish-img"}),n("div",{staticClass:"dish-info"},[n("div",{staticClass:"info-top"},[n("div",{staticClass:"dish-name-wrap"},[n("span",{staticClass:"dish-name"},[t._v(t._s(t.data.name))])]),t.data.describe?n("span",{staticClass:"describe"},[t._v(t._s(t.data.describe))]):t._e()]),n("div",{staticClass:"info-bottom flex-row align-right justify-between"},[n("div",{staticClass:"price-discount"},[t.couponPrice>0?n("div",{staticClass:"price"},[n("price-text",{attrs:{amount:t.couponPrice,size:"large"}}),n("price-text",{attrs:{amount:t.data.price,disabled:t.priceDisabled,size:"large"}})],1):t._e(),t.priceDisabled?n("div",{staticClass:"discount"},[n("promotional-tag",{attrs:{color:"#FF8558",text:t.discount||""}}),t.data.limitCopies?n("span",{staticClass:"limit-copies"},[t._v("优惠限"+t._s(t.data.limitCopies)+"份")]):t._e()],1):t._e()]),n("div",{staticClass:"btn-operate flex-column"},[n("van-button",{staticClass:"btn-receive",attrs:{round:"",text:t.btnTextComputed,disabled:t.couponDisabled||t.couponReceiveOver||t.btnDisabled,loading:t.btnLoading},on:{click:function(e){return e.stopPropagation(),t.receiveHandler(e)}}})],1)])]),t.couponDisabled?t._e():n("van-progress",{staticClass:"progress",attrs:{"stroke-width":"2",inactive:t.couponReceiveOver,"pivot-text":"剩"+t.leftPercent+"%",percentage:t.leftPercent,color:"linear-gradient(to right, #fbe8ee, #eea29d)","pivot-color":"#ff0047"}})],1)}),Me=[],Ae=(n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"promotional-tag",style:t.textColor},[t._v(t._s(t.text))])}),Re=[],Le={props:{text:{type:String,required:!0},color:{type:String,default:"#FF0047"}},data:function(){return{textColor:"border-color: ".concat(this.color,"; color: ").concat(this.color)}}},Ne=Le,He=(n("573c"),Object(d["a"])(Ne,Ae,Re,!1,null,"098739c4",null)),$e=He.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"price-text"},[t.reduce?n("span",{class:t.reduceCls},[t._v("-")]):t._e(),n("span",{class:t.moneyFlagCls},[t._v("￥")]),n("span",{class:t.amountCls},[t._v(t._s(t.amountDecimal))])])},Ge=[],Ue=(n("a15b"),{props:{amount:{type:Number,required:!0},disabled:{type:Boolean,default:!1},reduce:{type:Boolean,default:!1},size:{validator:function(t){return/^default|large$/.test(t)},default:"default"}},data:function(){return{}},computed:{moneyFlagCls:function(){var t=[];switch(this.size){case"default":t.push("money-flag-default");break;case"large":t.push("money-flag-large");break}return t.concat([this.disabled?"disabled":"enabled"]).join(" ")},amountCls:function(){var t=[];switch(this.size){case"default":t.push("amount-default");break;case"large":t.push("amount-large");break}return t.concat([this.disabled?"disabled":"enabled"]).join(" ")},reduceCls:function(){return[this.disabled?"disabled":"enabled"].join(" ")},amountDecimal:function(){return this.amount.toFixed(2)}}}),Be=Ue,ze=(n("2964"),Object(d["a"])(Be,qe,Ge,!1,null,"6003582c",null)),Fe=ze.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.wrapCls,style:t.wrapStyle},[n("span",{staticClass:"badge-text",style:t.textStyle},[t._v(t._s(t.text))])])},Ke=[],We={props:{text:{type:[String,Number],required:!0},inverted:{type:Boolean,default:!1},color:{type:[String,Array],default:"#ff0047"},shape:{type:String,default:"ellipse"},hasPadding:{type:Boolean,default:!0}},computed:{wrapCls:function(){var t=["badge-wrap"];return this.hasPadding&&t.push("badge-padding"),"triangle"===this.shape?t.push("badge-triangle"):t.push("badge-ellipse"),t.concat(this.inverted?[]:["badge-wrap-border"]).join(" ")},wrapStyle:function(){var t=Array.isArray(this.color)?this.color[0]:this.color,e=Array.isArray(this.color)?this.color[1]:"white",n={};return this.inverted?n.background=t:(n.background=e,n.borderColor=t),n},textStyle:function(){var t=Array.isArray(this.color)?this.color[0]:this.color,e=Array.isArray(this.color)?this.color[1]:"white";return{color:this.inverted?e:t}}}},Ve=We,Ye=(n("b93f"),Object(d["a"])(Ve,Je,Ke,!1,null,"8d779dba",null)),Xe=Ye.exports;n("d3b7"),n("25f0");function Qe(){return"0"===this.couponData.status.toString()}function Ze(){return this.couponDisabled?"已过期":this.leftPercent<=0?"已领完":this.btnText?this.btnText:this.couponPrice>0?"抢券":"领券"}function tn(){var t=0;if(this.progress)t=100*this.progress;else{var e=this.couponData,n=e.limitAmount,r=e.receivedAmount;t=(n-r)/n*100}return Math.round(t)}var en={components:{PromotionalTag:$e,PriceText:Fe,Badge:Xe},props:{data:{type:Object,required:!0},couponData:{type:Object,required:!0},couponPrice:{type:Number,default:0},btnText:String,btnDisabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},progress:{type:Number,validate:function(t){return t>0&&t<1}}},computed:{priceDisabled:function(){return this.couponPrice>0&&this.data.price>this.couponPrice},discount:function(){return this.priceDisabled?(this.couponPrice/this.data.price*10).toFixed(1)+"折":""},dishTagColors:function(){var t={"招牌":["#FFCC25","#333333"],"优惠组合":["#333333","#FFCC25"]};return t[this.data.tag]||"#ff0047"},couponDisabled:function(){return Qe.call(this)},couponReceiveOver:function(){return this.leftPercent<=0},btnTextComputed:function(){return Ze.call(this)},leftPercent:function(){return tn.call(this)}},mounted:function(){console.log(this.couponPrice)},methods:{boxPressHandler:function(){this.$emit("box-press")},receiveHandler:function(){this.$emit("btn-press")}}},nn=en,rn=(n("9135"),Object(d["a"])(nn,Te,Me,!1,null,"f0f48ed4",null)),on=rn.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",on:{click:t.boxPressHandler}},[n("div",{staticClass:"flex-row justify-between align-center"},[n("span",{staticClass:"name"},[t._v(t._s(t.couponData.name))]),t.couponData.couponStr?n("span",{staticClass:"describe"},[t._v(t._s(t.couponData.couponStr))]):t._e()]),t.couponData.useLimitStrArray.length>0?n("div",{staticClass:"use-limit"},[t._v(t._s(t.couponData.useLimitStrArray.join(" / ")))]):t._e(),n("div",{staticClass:"info-bottom flex-row justify-between"},[n("div",[t.couponPrice>0?n("price-text",{attrs:{amount:t.couponPrice,size:"large"}}):t._e()],1),n("div",{staticClass:"flex-column"},[n("van-button",{staticClass:"btn-receive",attrs:{round:"",text:t.btnTextComputed,disabled:t.couponDisabled||t.couponReceiveOver||t.btnDisabled,loading:t.btnLoading},on:{click:function(e){return e.stopPropagation(),t.receiveHandler(e)}}})],1)]),t.couponDisabled?t._e():n("van-progress",{staticClass:"progress",attrs:{"stroke-width":"2",inactive:t.couponReceiveOver,"pivot-text":"剩"+t.leftPercent+"%",percentage:t.leftPercent,color:"linear-gradient(to right, #fbe8ee, #eea29d)","pivot-color":"#ff0047"}})],1)},sn=[],cn={props:{couponData:{type:Object,required:!0},couponPrice:{type:Number,default:0},btnText:String,btnDisabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},progress:{type:Number,validate:function(t){return t>0&&t<1}}},components:{PromotionalTag:$e,PriceText:Fe},computed:{priceDisabled:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return priceDisabled.call(this)})),discount:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return discount.call(this)})),couponDisabled:function(){return Qe.call(this)},couponReceiveOver:function(){return this.leftPercent<=0},btnTextComputed:function(){return Ze.call(this)},leftPercent:function(){return tn.call(this)}},methods:{boxPressHandler:function(){this.$emit("box-press")},receiveHandler:function(){this.$emit("btn-press")}}},un=cn,ln=(n("1921"),Object(d["a"])(un,an,sn,!1,null,"7736eb0d",null)),dn=ln.exports,pn={props:{listData:{type:Array,required:!0},btnText:String,showPrepurchaseCoupon:{type:Boolean,default:!1},itemStyle:[String,Object]},components:{dishHoriRack:on,AmountSales:dn},data:function(){return{loading:!1,page:1,row:10,listDataMap:{},couponInfos:[],couponDishInfos:{}}},watch:{listData:function(t){this.reload()}},mounted:function(){this.getPageCouponInfo()},computed:{requestCoupon:function(){var t=(this.page-1)*this.row,e=this.page*this.row;return this.listData.slice(t,e)}},methods:{getPageCouponInfo:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.requestCoupon.length>0)){e.next=15;break}return t.requestCoupon.forEach((function(e){return t.listDataMap[e.id]=e})),e.next=4,ge.getCouponInfo(t.requestCoupon.map((function(t){var e=t.id;return e})));case 4:if(r=e.sent,!(r.length>0)){e.next=7;break}return e.abrupt("return",!1);case 7:return(n=t.couponInfos).push.apply(n,Object(_e["a"])(Object.values(r).filter((function(t){return t&&!t.disabled})))),t.page++,i=t.couponInfos.map((function(t){var e=t.couponData;return e.dishes_id})).filter((function(t){return t})),e.next=12,ge.getDishInfo(i);case 12:return t.couponDishInfos=e.sent,Object.values(t.couponDishInfos).forEach((function(t){return t.tag=t.suitsDishes?"优惠组合":t.tag})),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})))()},loadMore:function(){return this.getPageCouponInfo()},reload:function(){this.couponInfos=[],this.page=1,this.getPageCouponInfo()},boxPressHandler:function(t,e){var n=this.listDataMap[t.id];this.$emit("item-press",n,t,e)},btnPressHandler:function(t,e){var n=this.listDataMap[t.id];this.$emit("item-btn-press",n,t,e)}}},fn=pn,hn=(n("b72c"),Object(d["a"])(fn,ke,Ee,!1,null,"bc0f195a",null)),gn=hn.exports,vn=n("0799");function bn(t,e,n){return Object(vn["a"])(e,t,n)}var mn=n("0647"),yn=n("7663");n("63c1");window.EL=ge;var wn=ge.Page(),xn=wn.Vue;xn.config.productionTip=!1,Object.keys(r).forEach((function(t){xn.component(t,r[t])})),Object.keys(i).forEach((function(t){xn.filter(t,i[t])})),xn.use(mn["a"]),xn.use(yn["a"]),new xn({render:function(t){return t(C)}}).$mount("#__MARKETING_AD__");var _n=ve(window.location.pathname),In=document.createElement("script");In.setAttribute("type","text/javascript"),In.setAttribute("src",ye(_n)),In.addEventListener("error",(function(){new xn({render:function(t){return t(k)}}).$mount("#__MARKETING_AD__")})),document.head.appendChild(In)},"573c":function(t,e,n){"use strict";var r=n("cc97"),i=n.n(r);i.a},"5c0b":function(t,e,n){"use strict";var r=n("de4f"),i=n.n(r);i.a},"6be1":function(t,e,n){"use strict";var r=n("39f0"),i=n.n(r);i.a},"82da":function(t,e,n){},9135:function(t,e,n){"use strict";var r=n("11f5"),i=n.n(r);i.a},b72c:function(t,e,n){"use strict";var r=n("1815"),i=n.n(r);i.a},b93f:function(t,e,n){"use strict";var r=n("2f6e"),i=n.n(r);i.a},c3fa:function(t,e,n){},cc97:function(t,e,n){},d3cf:function(t,e,n){t.exports={colorMain:"#ff0047",colorMainShallow:"#ff5f58",colorGray1:"#ccc",colorGray2:"#999",colorGray3:"#666",colorGray4:"#333",colorSuccessGreen:"#60CC1C",colorGolden:"#edcb88",colorGoldenBg:"#fff8e9",fontTitle1:"34px",fontTitle2:"25px",fontTitle3:"20px",fontTitle4:"18px",fontText:"16px",fontTextSecondary:"14px",fontAuxiliary:"13px",fontExplain:"11px"}},db27:function(t,e,n){},de4f:function(t,e,n){t.exports={colorMain:"#ff0047",colorMainShallow:"#ff5f58",colorGray1:"#ccc",colorGray2:"#999",colorGray3:"#666",colorGray4:"#333",colorSuccessGreen:"#60CC1C",colorGolden:"#edcb88",colorGoldenBg:"#fff8e9",fontTitle1:"34px",fontTitle2:"25px",fontTitle3:"20px",fontTitle4:"18px",fontText:"16px",fontTextSecondary:"14px",fontAuxiliary:"13px",fontExplain:"11px"}},edd0:function(t,e,n){"use strict";var r=n("384c"),i=n.n(r);i.a},f1ce:function(t,e,n){"use strict";var r=n("2216"),i=n.n(r);i.a},f2b0:function(t,e,n){"use strict";var r=n("d3cf"),i=n.n(r);i.a}});
//# sourceMappingURL=app.c93c186f.js.map